# HerdMaster Pro - Карта экранов и навигация

## Структура навигации

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              HERDMASTER PRO                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                        TOP NAVIGATION                                │    │
│  │  [Logo] [Search] [Dashboard] [Animals] [Tasks] [Reports] [Settings] │    │
│  │                                              [Notifications] [User]  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌────────────────┐  ┌──────────────────────────────────────────────────┐   │
│  │   SIDEBAR      │  │                    CONTENT AREA                   │   │
│  │   (optional)   │  │                                                   │   │
│  │                │  │                                                   │   │
│  │  Quick Access: │  │    [Зависит от текущего экрана]                  │   │
│  │  - Fresh cows  │  │                                                   │   │
│  │  - To breed    │  │                                                   │   │
│  │  - Preg check  │  │                                                   │   │
│  │  - Dry off     │  │                                                   │   │
│  │  - Vet list    │  │                                                   │   │
│  │                │  │                                                   │   │
│  └────────────────┘  └──────────────────────────────────────────────────┘   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 1. Dashboard (Главный экран)

**URL:** `/`

**Назначение:** Обзор ключевых показателей фермы

### Структура экрана

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  DASHBOARD                                           📅 18 января 2025      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐                │
│  │   ПОГОЛОВЬЕ     │ │   НАДОЙ СЕГОДНЯ │ │   КАЧЕСТВО      │                │
│  │      398        │ │    12,450 кг    │ │   Жир: 3.8%     │                │
│  │   голов         │ │   vs 12,200     │ │   Белок: 3.2%   │                │
│  │                 │ │   вчера (+2%)   │ │   SCC: 180      │                │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘                │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ЗАДАЧИ НА СЕГОДНЯ                                          Все →   │    │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐    │    │
│  │  │ 🔴 На отёл  │ │ 🟡 Осеменить│ │ 🟢 Проверка │ │ 🔵 Запуск   │    │    │
│  │  │     3       │ │     12      │ │    стельн.  │ │     5       │    │    │
│  │  │             │ │             │ │     8       │ │             │    │    │
│  │  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────────┘    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌────────────────────────────────┐ ┌────────────────────────────────────┐  │
│  │  РАСПРЕДЕЛЕНИЕ ПО СТАТУСАМ    │ │  ТРЕНД НАДОЯ (30 дней)             │  │
│  │  [Pie Chart: RC distribution] │ │  [Line Chart: daily milk]          │  │
│  │                                │ │                                    │  │
│  │  Дойные: 285 (72%)            │ │                                    │  │
│  │  Сухостой: 45 (11%)           │ │                                    │  │
│  │  Нетели: 68 (17%)             │ │                                    │  │
│  └────────────────────────────────┘ └────────────────────────────────────┘  │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ⚠️ АЛЕРТЫ                                                          │    │
│  │  • Корова 1234 — резкое падение надоя (-25%)                        │    │
│  │  • 3 коровы с просроченной проверкой стельности                     │    │
│  │  • Заканчивается препарат Ceftiofur (осталось 5 доз)               │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Компоненты
- `StatCard` — карточка с числовым показателем
- `TaskCounters` — счётчики задач по категориям
- `RCDistributionChart` — круговая диаграмма RC
- `MilkTrendChart` — линейный график надоя
- `AlertsList` — список предупреждений

---

## 2. Animals (Список животных)

**URL:** `/animals`

**Назначение:** Просмотр и фильтрация списка животных

### Структура экрана

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ЖИВОТНЫЕ                                              [+ Добавить]         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  🔍 Поиск по номеру или кличке...          [Фильтры ▼] [Колонки ▼]  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Быстрые фильтры:                                                   │    │
│  │  [Все] [Дойные] [Сухостойные] [Нетели] [Проблемные]                 │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ID    │ Кличка │ Секция │ Лакт │ DIM  │ Надой │ RC    │ Статус    │    │
│  ├────────┼────────┼────────┼──────┼──────┼───────┼───────┼───────────┤    │
│  │  1001  │ Зорька │ 1A     │  3   │ 125  │ 42.5  │ PREG  │ ●         │    │
│  │  1002  │ Ночка  │ 1A     │  4   │  85  │ 38.2  │ BRED  │ ●         │    │
│  │  1003  │ Марта  │ 1B     │  2   │  45  │ 45.8  │ FRESH │ ●         │    │
│  │  1004  │ —      │ 2A     │  3   │ 280  │ —     │ DRY   │ ●         │    │
│  │  ...   │ ...    │ ...    │ ...  │ ...  │ ...   │ ...   │ ...       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ◄ 1 2 3 ... 10 ►                              Показано: 50 из 398         │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Фильтры (Panel)

```
┌─────────────────────────────────────┐
│  ФИЛЬТРЫ                        ✕   │
├─────────────────────────────────────┤
│                                     │
│  Статус (RC):                       │
│  ☑ FRESH  ☑ OK/OPEN  ☑ BRED        │
│  ☑ PREG   ☑ DRY      ☐ Выбывшие    │
│                                     │
│  Секция:                            │
│  [Все секции           ▼]           │
│                                     │
│  Лактация:                          │
│  [Любая ▼] от [  ] до [  ]          │
│                                     │
│  DIM:                               │
│  от [    ] до [    ]                │
│                                     │
│  Надой:                             │
│  от [    ] до [    ] кг             │
│                                     │
│  [Применить]  [Сбросить]            │
│                                     │
└─────────────────────────────────────┘
```

### Компоненты
- `SearchInput` — поиск с автодополнением
- `QuickFilters` — быстрые фильтры (табы)
- `FilterPanel` — расширенные фильтры (side panel)
- `AnimalsTable` — таблица с сортировкой
- `Pagination` — пагинация
- `ColumnSelector` — выбор колонок

---

## 3. Animal Card (Карточка животного)

**URL:** `/animals/[id]`

**Назначение:** Полная информация о животном

### Структура экрана (Вкладки)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ← Назад к списку                                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌──────────────┐  ┌────────────────────────────────────────────────────┐   │
│  │   [Фото]     │  │  #1001 Зорька                                      │   │
│  │              │  │  Голштинская • 3-я лактация • DIM: 125             │   │
│  │              │  │  Секция: 1A (Высокопродуктивные)                   │   │
│  │              │  │                                                    │   │
│  │              │  │  Статус: 🟢 СТЕЛЬНА (145 дней)                     │   │
│  └──────────────┘  │  Ожидаемый отёл: 15.04.2025                        │   │
│                    └────────────────────────────────────────────────────┘   │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │ [Обзор] [Воспроизводство] [Продуктивность] [Здоровье] [История]     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ═══════════════════════════════════════════════════════════════════════    │
│                                                                              │
│                    [СОДЕРЖИМОЕ ВКЛАДКИ]                                     │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Tab: Обзор

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ОБЗОР                                                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌────────────────────────────┐  ┌────────────────────────────────────────┐ │
│  │  КЛЮЧЕВЫЕ ПОКАЗАТЕЛИ       │  │  ПОСЛЕДНИЕ СОБЫТИЯ                     │ │
│  │                            │  │                                        │ │
│  │  Надой (посл.):  42.5 кг   │  │  15.01 — Контрольная дойка            │ │
│  │  Жир:            3.8%      │  │  10.01 — Проверка стельности (+)      │ │
│  │  Белок:          3.2%      │  │  25.09 — Осеменение (Bull: ABC123)    │ │
│  │  SCC:            85        │  │  20.09 — Выявлена охота               │ │
│  │  BCS:            3.25      │  │  01.09 — Отёл (тёлочка)               │ │
│  │                            │  │                                        │ │
│  └────────────────────────────┘  └────────────────────────────────────────┘ │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ЛАКТАЦИОННАЯ КРИВАЯ                                                │    │
│  │  [Line Chart: milk yield over DIM]                                  │    │
│  │                                                                     │    │
│  │  ───●───●───●───●───●───●───●───●───●───●───                        │    │
│  │                                                                     │    │
│  │  Прогноз 305ME: 12,500 кг                                          │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Tab: Воспроизводство

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ВОСПРОИЗВОДСТВО                                        [+ Событие]         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────┐     │
│  │  ТЕКУЩИЙ СТАТУС: СТЕЛЬНА                                           │     │
│  │                                                                    │     │
│  │  Дата осеменения:     25.09.2024                                  │     │
│  │  Бык:                 HOUSA000123456789 (Goldwyn)                 │     │
│  │  Дней стельности:     145                                         │     │
│  │  Ожидаемый отёл:      15.04.2025                                  │     │
│  │  Рекомендуемый запуск: 14.02.2025 (через 27 дней)                 │     │
│  │                                                                    │     │
│  │  [Зарегистрировать запуск]                                        │     │
│  └────────────────────────────────────────────────────────────────────┘     │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────┐     │
│  │  ИСТОРИЯ ОСЕМЕНЕНИЙ (текущая лактация)                             │     │
│  │                                                                    │     │
│  │  #  │ Дата       │ Бык          │ Техник  │ Результат              │     │
│  │  1  │ 25.09.2024 │ Goldwyn      │ Иванов  │ ✓ Стельна              │     │
│  │                                                                    │     │
│  │  Индекс осеменения: 1.0                                           │     │
│  │  Сервис-период: 24 дня                                            │     │
│  └────────────────────────────────────────────────────────────────────┘     │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────┐     │
│  │  РОДОСЛОВНАЯ                                       [Подробнее →]   │     │
│  │                                                                    │     │
│  │            ┌─── Отец: HOUSA000987654321 (Mogul)                    │     │
│  │  Корова ───┤                                                       │     │
│  │            └─── Мать: #892 (Зарница) — 305ME: 11,200 кг           │     │
│  └────────────────────────────────────────────────────────────────────┘     │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Tab: Продуктивность

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ПРОДУКТИВНОСТЬ                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ТЕКУЩАЯ ЛАКТАЦИЯ (#3)                                              │    │
│  │                                                                     │    │
│  │  ┌───────────────┐ ┌───────────────┐ ┌───────────────┐             │    │
│  │  │ Всего молока  │ │ Среднесуточн. │ │ Прогноз 305   │             │    │
│  │  │   5,312 кг    │ │   42.5 кг     │ │  12,500 кг    │             │    │
│  │  │  за 125 дней  │ │   vs 40.2     │ │   +5% к L2    │             │    │
│  │  └───────────────┘ └───────────────┘ └───────────────┘             │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ЛАКТАЦИОННАЯ КРИВАЯ                        [Milk ▼] [SCC ▼]       │    │
│  │  [Interactive Chart: configurable Y-axes]                          │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ИСТОРИЯ КОНТРОЛЬНЫХ ДОЕК                                          │    │
│  │                                                                     │    │
│  │  Дата       │ DIM │ Молоко │ Жир% │ Белок% │ SCC   │ 305ME         │    │
│  │  15.01.2025 │ 125 │ 42.5   │ 3.8  │ 3.2    │ 85    │ 12,500        │    │
│  │  15.12.2024 │  95 │ 44.2   │ 3.6  │ 3.1    │ 92    │ 12,300        │    │
│  │  15.11.2024 │  65 │ 46.8   │ 3.5  │ 3.0    │ 78    │ 12,100        │    │
│  │  ...                                                               │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ЗАВЕРШЁННЫЕ ЛАКТАЦИИ                                              │    │
│  │                                                                     │    │
│  │  L# │ Возраст │ Дойных дн │ Всего, кг │ 305ME    │ Пик    │ SP    │    │
│  │  2  │ 3г 2м   │ 305       │ 11,800    │ 11,800   │ 48.5   │ 85    │    │
│  │  1  │ 2г 1м   │ 298       │ 10,200    │ 10,450   │ 42.0   │ 92    │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Tab: Здоровье

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ЗДОРОВЬЕ                                               [+ Лечение]         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────┐     │
│  │  ⚠️ АКТИВНЫЕ ОГРАНИЧЕНИЯ                                           │     │
│  │                                                                    │     │
│  │  Нет активных ограничений                                         │     │
│  │  Молоко можно сдавать в танк                                      │     │
│  └────────────────────────────────────────────────────────────────────┘     │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────┐     │
│  │  ТЕКУЩИЕ ПОКАЗАТЕЛИ                                                │     │
│  │                                                                    │     │
│  │  BCS (упитанность):  3.25      (норма: 2.75-3.50)  ✓              │     │
│  │  SCC:                85,000    (норма: <200,000)   ✓              │     │
│  │  Последний осмотр:   10.01.2025                                   │     │
│  └────────────────────────────────────────────────────────────────────┘     │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────┐     │
│  │  ИСТОРИЯ ЛЕЧЕНИЙ                                                   │     │
│  │                                                                    │     │
│  │  Дата       │ Диагноз      │ Лечение          │ Withdrawal │ Врач │     │
│  │  05.10.2024 │ Мастит (LF)  │ Ceftiofur 3 дня  │ до 08.10   │ Петров│    │
│  │  12.03.2024 │ Хромота (RR) │ Обрезка + блок   │ —          │ Сидоров│   │
│  │  ...                                                               │     │
│  └────────────────────────────────────────────────────────────────────┘     │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. Tasks (Задачи)

**URL:** `/tasks`

**Назначение:** Списки животных для действий

### Структура экрана

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ЗАДАЧИ НА СЕГОДНЯ                                      📅 18 января 2025   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  [Воспроизводство] [Ветеринария] [Доение] [Другое]                  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ═══════════════════════════════════════════════════════════════════════    │
│                                                                              │
│  🔴 ОЖИДАЕМЫЕ ОТЁЛЫ (3)                                  [Печать] [→]       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ID    │ Секция │ Лакт │ Ожид. дата │ Дней до    │ Примечание       │    │
│  │  1045  │ Родилка│  4   │ 18.01      │ Сегодня!   │                  │    │
│  │  1089  │ Родилка│  2   │ 19.01      │ 1          │ Двойня?          │    │
│  │  1023  │ Сухост.│  3   │ 20.01      │ 2          │                  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  🟡 НА ОСЕМЕНЕНИЕ (12)                                   [Печать] [→]       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ID    │ Секция │ Лакт │ DIM  │ Дней без охоты │ TBRD │ Действие    │    │
│  │  1102  │ 1A     │  2   │  65  │ Охота сегодня  │  0   │ [Осеменить] │    │
│  │  1078  │ 1B     │  3   │  82  │ 3              │  1   │ [Осеменить] │    │
│  │  ...                                                                │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  🟢 ПРОВЕРКА СТЕЛЬНОСТИ (8)                              [Печать] [→]       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ID    │ Секция │ Дата осем. │ DSLH │ Бык      │ Действие           │    │
│  │  1056  │ 1A     │ 12.12.2024 │  37  │ Goldwyn  │ [Результат ▼]      │    │
│  │  ...                                                                │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. Reports (Отчёты)

**URL:** `/reports`

**Назначение:** Формирование и просмотр отчётов

### Структура экрана

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ОТЧЁТЫ                                                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  РЕПРОДУКЦИЯ                                                        │    │
│  │  ├── Сводка по воспроизводству (BREDSUM)                           │    │
│  │  ├── Распределение по статусам                                     │    │
│  │  ├── Эффективность осеменения                                      │    │
│  │  └── Интервалы отёлов                                              │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ПРОДУКТИВНОСТЬ                                                     │    │
│  │  ├── Ежемесячный надой по группам                                  │    │
│  │  ├── Качество молока (жир, белок, SCC)                             │    │
│  │  ├── Лактационные кривые                                           │    │
│  │  └── 305-дневные показатели                                        │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ЗДОРОВЬЕ                                                           │    │
│  │  ├── Заболеваемость по типам                                       │    │
│  │  ├── Расход ветпрепаратов                                          │    │
│  │  └── Выбытие (причины)                                             │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  КОНСТРУКТОР ОТЧЁТОВ                                    [Создать]  │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. Settings (Настройки)

**URL:** `/settings`

**Назначение:** Конфигурация системы

### Подразделы

```
/settings
├── /settings/farm          # Данные фермы
├── /settings/users         # Пользователи и роли
├── /settings/pens          # Секции и коровники
├── /settings/events        # Типы событий
├── /settings/protocols     # Ветеринарные протоколы
├── /settings/integrations  # Интеграции (оборудование, 1C)
└── /settings/notifications # Настройка уведомлений
```

---

## Мобильное приложение

### Упрощённая навигация

```
┌─────────────────────────────────────┐
│  [Bottom Navigation]                │
│                                     │
│  [🏠 Home] [🐄 Animals] [✅ Tasks]  │
│  [📊 Reports] [⚙️ More]             │
└─────────────────────────────────────┘
```

### Ключевые отличия от веб-версии

1. **Оффлайн-режим** — работа без интернета
2. **Сканер** — QR/RFID для идентификации
3. **Голосовой ввод** — заметки и комментарии
4. **Push-уведомления** — алерты в реальном времени
5. **Упрощённые формы** — минимум полей для быстрого ввода

---

## Соответствие DairyComp → HerdMaster

| DairyComp | HerdMaster | Улучшение |
|-----------|------------|-----------|
| Командная строка | Поиск + Фильтры | Визуальный интерфейс |
| 6 страниц карточки | 5 вкладок | Современный UX |
| VLIST (текст) | Tasks (интерактив) | Групповые действия |
| LIST/SUM (текст) | Reports (графики) | Визуализация |
| Нет | Dashboard | Обзор KPI |
| Нет | Mobile App | Мобильный доступ |
| Нет | Notifications | Push-уведомления |
