# DairyComp 305 - Полная иерархия функциональных возможностей

## О документе

Этот документ содержит структурированное описание всех функциональных возможностей системы управления молочной фермой **DairyComp 305** от Valley Agricultural Software.

**Версия:** W02.1212
**Платформа:** Windows
**Источник:** Руководство пользователя (169 страниц)

---

# 1. УПРАВЛЕНИЕ ДАННЫМИ И НАВИГАЦИЯ

## 1.1. Интерфейс и основная навигация

### 1.1.1. Главный экран
**Описание:** Стандартный интерфейс Windows с основными элементами управления

**Элементы интерфейса:**
- **Меню операций** - доступ ко всем функциям программы
- **Горизонтальная панель инструментов** - быстрый доступ к основным командам
- **Командная строка** - ввод команд напрямую (255 символов максимум)
- **Outlook-панель слева** - быстрый доступ к часто используемым функциям
- **Строка статуса внизу** - отображение имени БД и текущей даты

**Ключевые возможности:**
- Нечувствительность к регистру команд
- История команд (32 последние команды, навигация стрелками ↑↓)
- Редактирование возвращенной команды клавишей [Ins]

### 1.1.2. Система закладок

**Главная:**
- Стартовая страница с фоновым изображением
- Настраиваемое изображение (.BMP файл)

**Команды:**
- Список команд для ввода, отчетов, графиков
- Быстрый доступ к часто используемым операциям

**Карточки коровы:**
- 6 страниц детальной информации о животном
- Настраиваемое расположение пунктов

**Координатная сетка:**
- Обозреватель для вывода отчетов
- Сортировка по столбцам
- Поиск по тексту (F9)

**Отчет:**
- Просмотрщик последнего созданного отчета
- Функции печати и экспорта

**График:**
- Отображение диаграмм и графиков
- Поддержка команд GRAPH и PLOT

### 1.1.3. Режим обозревателя (Report Viewer)

**Навигация:**
- Прокрутка: стрелки, PgUp, PgDn, Home, End
- Конец отчета: Ctrl+End
- Начало отчета: Ctrl+Home
- Прервать формирование: Esc
- Выход в командную строку: Esc (повторно)

**Функции обозревателя:**

**Печать:**
- Клавиша "P" или кнопка принтера
- Настройка шрифтов (обычный и сжатый)
- Поддержка матричных принтеров

**Экспорт:**
- Клавиша "F" для экспорта в файл
- Режимы: перезапись или добавление

**Поиск:**
- F9 или "=" для открытия окна поиска
- Повтор поиска вперед: серый плюс (+)
- Повтор поиска назад: серый минус (-)

**Интерактивные возможности:**
- Переход к карточке: клик на ID (синий) или F2
- Ввод данных: двойной клик на пункт (только сохраненные пункты)
- Сортировка: клик на заголовок столбца
- Перезагрузка отчета: кнопка Reload

## 1.2. Карточка коровы

### 1.2.1. Общая навигация по карточкам

**Команды вызова карточки:**
- Ввести номер животного напрямую
- "+" или PgUp или стрелка вправо - следующее животное
- "-" или PgDn или стрелка влево - предыдущее животное
- "\n" - переход на страницу n (например, \4)

**Быстрые переходы:**
- "B" - страница 6 (лактационная кривая)
- "F" или Enter - страница 2 (пункты)
- "P" - печать карточки
- F3 - просмотр завершенных лактаций

**Ввод данных из карточки:**
- Аббревиатура события (MAST, MOVE) - добавить событие
- "PEN=2" - изменение пункта
- Правый клик мыши - добавить/изменить/удалить пункт или событие

### 1.2.2. Страница 1 - События

**Структура:**
- 16 пунктов в верхней части
- До 32 событий (упорядочены по дате)
- События текущей лактации начинаются с FRESH (отел)

**Возможности:**
- Комментирование событий (кроме BRED)
- Правка событий правой кнопкой мыши
- Просмотр всей истории животного

**Отображаемые события:**
- FRESH - отел
- BRED - осеменение (с результатом и номером техника)
- PREG - стельность
- DRY - сухостой
- Пользовательские события (мастит, хромота и т.д.)

### 1.2.3. Страница 2-3 - Пункты

**Категории информации:**

**Идентификация:**
- ID, регистрационный номер
- Дата рождения
- Порода
- Номер USDA

**Репродуктивная информация:**
- Репродуктивный статус (RC)
- Дата отела (FDAT)
- Дата стельности (CDAT)
- Количество осеменений (TBRD)
- Дни в доении (DIM)
- Дни стельности (DCC)

**Продуктивность:**
- Надой (MILK)
- Процент жира (PCTF)
- Процент белка (PCTS)
- SCC (соматические клетки)
- 305-дневный прогноз (305ME, ME305)
- Относительная ценность (RELV, RV)

**Настраиваемые группы:**
- Секция (PEN)
- Номер лактации (LACT)
- Пользовательские пункты

### 1.2.4. Страница 4 - Контрольные дойки

**Содержание:**
- До 32 записей о контрольных дойках
- Упорядочены по дате

**Отображаемые данные:**
- Дата теста
- DIM на дату теста
- Надой
- Процент жира и белка
- SCC
- Прогнозные показатели

**Возможности:**
- Визуализация командой PLOT
- Клик на значение для редактирования
- Экспорт данных (EVENTS \6)

### 1.2.5. Страница 5 - Завершенные лактации

**Данные по каждой лактации:**
- Номер лактации
- Возраст при отеле

**Даты:**
- Дата отела
- Дата плодотворного осеменения
- Дата сухостоя

**Продуктивность:**
- Общий удой
- Жир (фунты/кг)
- Белок (фунты/кг)
- Прогноз 305 дней

**Показатели эффективности:**
- Относительная ценность (%)
- Сервис-период (дни)
- Дни в доении
- Дни сухостоя

**Доступ:**
- F3 из любой страницы карточки
- Автоматическое архивирование при событии FRESH

### 1.2.6. Страница 6 - Лактационная кривая

**Источники данных:**
- Ежемесячная загрузка через RECEIVE
- Ежедневный ввод надоев

**Возможности:**

**График последних 7 дней:**
- Отображается при ежедневном вводе надоев
- Клик на график → изменение надоя за день
- Увеличение графика (левая кнопка мыши + перетаскивание)

**Настройка осей:**
- Левая ось: MILK (по умолчанию)
- Правая ось: LogSCC (по умолчанию)
- Можно выбрать любые пункты:
  - PCTF - процент жира
  - PCTS - процент белка
  - FCM - жиро-корректированное молоко
  - И другие пункты контрольных доек

**Интерактивность:**
- Перемещение: правая кнопка мыши + перетаскивание
- Отмена увеличения: "Undo Zoom"
- Печать: кнопка принтера или File→Print (цветная, горизонтальная)

## 1.3. Команды навигации по базам данных

### 1.3.1. Команда LOGON

**Назначение:** Переключение между базами данных

**Синтаксис:**
```
LOGON
LOGON \nd
LOGON \nd*
LOGON \nd#
```

**Параметры:**
- `n` - номер базы данных (1-9)
- `d` - имя диска (C, D, и т.д.)

**Ключи:**
- `*` - использовать системную дату (не запрашивать)
- `#` - использовать дату предыдущей базы
- `&` - загрузить файл архива (.ARC)
- `^` - загрузить резервную копию (.BAK)

**Примеры:**
```
LOGON               # Запрос базы, диска, даты
LOGON \2C           # База COWFILE2.DAT на диске C
LOGON \2C*          # База 2 на C, системная дата
LOGON \1C&          # Файл архива C:COWFILE1.ARC
```

**Создание аббревиатур:**
```
CALF = LOGON \2C*      # Быстрый переход к базе молодняка
COW = LOGON\1C*        # Быстрый переход к основной базе
ARCHIVE = LOGON\1C&    # Быстрый доступ к архиву
```

**Режим Multiherd:**
- Программа выводит список доступных баз данных
- Можно пропустить список (Escape) и ввести номер вручную
- Ключи дат (`*`, `#`) неактивны в multiherd режиме

### 1.3.2. Команда GETCOW

**Назначение:** Перенос животного из сторонней базы в текущую

**Применение:**
- Восстановление данных из архива
- Восстановление из резервной копии
- Перенос из базы молодняка
- Исправление ошибочно удаленных данных

**Источники переноса:**
- Файл базы данных (.DAT)
- Файл резервной копии (.BAK)
- Файл архива (.ARC)

**Ключи:**

| Ключ | Описание |
|------|----------|
| `Z` | Позволяет перенести выбывшее животное |
| `\NdXXX` | Автоматический выбор базы N на диске d, где XXX = DAT, BAK или ARC |

**Примеры создания аббревиатур:**
```
# Восстановление из резервной копии
FIXCOW = GETCOW \1CBAK

# Перенос из базы молодняка
GETHEIF = GETCOW\2CDAT
```

**Важно:**
- При переносе из базы данных (.DAT) программа предлагает удалить данные из источника
- GETCOW переносит по одному животному
- Для группы животных использовать PUTCOW из базы-источника

### 1.3.3. Команда PUTCOW

**Назначение:** Перенос животного из текущей базы в стороннюю

**Отличие от GETCOW:**
- GETCOW: из сторонней → в текущую
- PUTCOW: из текущей → в стороннюю

**Ограничения:**
- Работает только с файлами .DAT
- НЕ работает с архивами и резервными копиями

**Возможности:**
- Опция автоматического удаления после переноса
- Групповое перемещение с условием FOR
- Предупреждение при совпадении ID в конечной базе

**Ключи:**

| Ключ | Описание |
|------|----------|
| `\Nd` | Выбрать базу N на диске d |
| `\D` | Удалять животных без запроса |
| `\Z` | Перемещать выбывших животных |

**Примеры:**
```
# Перенос всех телят в базу молодняка
PUTHEIF = PUTCOW FOR LACT=0 \2CD

# Перенос выбывших животных с автоудалением
PUTCOW FOR RC=7 \2CD
```

---

# 2. ВВОД И РЕДАКТИРОВАНИЕ ДАННЫХ

## 2.1. Команда ENTER - Основной ввод данных

### 2.1.1. Общее описание

**Назначение:** Внесение и изменение данных в записях животных

**Важность:** Самая критичная часть программы - точность зависит от:
1. **Легкость ввода** - минимум действий в логичном порядке
2. **Выявление ошибок** - автоматическая проверка
3. **Исправление ошибок** - простота корректировки

**Методы ввода:**
1. Из меню (самый простой)
2. Из командной строки
3. Из карточки коровы

### 2.1.2. Ввод пунктов (ENTER ITEM)

**Синтаксис:**
```
ENTER пункт
ENTER пункт1 пункт2
ENTER пункт=значение
ENTER пункт=значение FOR условие
```

**Примеры:**
```
ENTER LACT                    # Запросит ID, затем LACT
ENTER LACT BNAME              # Ввод лактации и коровника
ENTER LACT=1                  # Значение известно
ENTER LACT=2 FOR 123          # Для конкретной коровы
ENTER LACT=1 FOR EDAT=TODAY   # Для купленных сегодня
```

**Какие пункты можно вводить:**
- Любые, кроме ID
- Исключены рассчитываемые пункты (DIM, DCC и т.д.)

**Часто вводимые пункты:**
- PEN - номер секции
- SIR1 - бык-отец
- USDA - номер вакцинации
- REG - регистрационный номер

**Предупреждение:**
- Бездумное изменение пунктов → путаница в записях
- Большинство изменений делается автоматически при вводе событий
- Использовать в основном для исправления ошибок

### 2.1.3. Специальные возможности ввода

**Приравнивание пунктов:**
```
ENTER COD2=SCC                # С запросом животных
ENTER COD2=SCC FOR ID>0       # Автоматически для всех
```

**Использование:**
- Анализ мастита с данными SCC от DHIA
- После RECEIVE: `LIST ID COD2 SCC FOR SCC>COD2`

**Правило:**
- Однобайтный → однобайтный
- Двухбайтный → двухбайтный
- Текстовые → текстовые одинаковой длины

**Ввод с сортировкой (ENTER BY):**
```
ENTER USDA BY USDA FOR USDA="-"
```
Позволяет вводить данные, не зная ID животного

**Ранжирование (ENTER \N):**
```
ENTER COD1=COD1 BY MILK \N
```
- Корова с наименьшим надоем: COD1 = 1
- Следующая: COD1 = 2
- И т.д.

### 2.1.4. Изменение дат при вводе

**Два способа:**

**1. SETDAY - изменяет текущую дату:**
```
SETDAY
```
- Риск: можно забыть изменить обратно
- Влияет на все последующие операции

**2. EDAY - только для данной команды (безопаснее):**
```
FRESH EDAY=18.11.99
```
- Сегодня: 20/11/99
- Дата отела: 18 ноября
- Все остальные записи: 20 ноября

**Быстрые клавиши при запросе EDAY:**

Сегодня: 22/6/99

| Ввод | Результат |
|------|-----------|
| [Enter] | 22/6/99 (сегодня) |
| 21/6 | 21/6/99 |
| 21 | 21/6/99 (если ≤ сегодня) |

**EDAY по умолчанию:**
- После первого ввода становится последняя введенная дата
- Облегчает массовый ввод событий с одной датой

## 2.2. Ввод событий

### 2.2.1. Структура события

**Форма аббревиатуры по умолчанию:**
```
EVENT = ENTER EC=x EDAY REM
```

**Пример для MAST (номер 19):**
```
MAST = ENTER EC=19 EDAY REM
```

**Компоненты:**
- **EC** - код события (event code)
- **EDAY** - дата события (запрос или автоматически)
- **REM** - комментарий (8 символов максимум)

### 2.2.2. Настройка событий

**Убрать запрос даты (для крупных стад):**
```
ENTER EC=19 REM
```
События вносятся в тот же день

**Добавить дополнительные пункты:**
```
ENTER EC=19 EDAY REM COST    # Запросит стоимость
```

**Автоматическое изменение пунктов:**
```
DRY = ENTER EC=11 EDAY REM PEN=5
```
Все переведенные в сухостой → секция 5

**Ввод с условием FOR:**
```
FRESH FOR 33              # Только для коровы 33
```

**ПРЕДЕЛЬНАЯ ВНИМАТЕЛЬНОСТЬ:**
```
DIED FOR ID>0            # "УБЬЕТ" всех коров!
```
Компьютеры делают то, что вы ЗАДАЕТЕ

### 2.2.3. Пакетный ввод (ENTER FOR)

**Назначение:** Автоматический ввод для группы коров

**Примеры:**
```
# Перевод низкопродуктивных в другую секцию
ENTER PEN=2 FOR FCM<60 PEN=1 DIM>60

# Одновременный ввод события и пунктов
MOVE PEN=2 REM=PROD FOR FCM<60 PEN=1 DIM<60

# Перевод в сухостой по условию
DRY FOR DCC>210 RC=5
```

**Использование аббревиатур:**
```
MUSTDRY = FOR DCC>210 RC=5
DRY MUSTDRY
```

**ВАЖНО:**
Пункты для SHOW/LIST нельзя использовать в аббревиатуре для ввода

### 2.2.4. Добавление комментариев (REM)

**Возможности:**
- Можно добавить к любому событию, кроме BRED
- Максимальная длина: 8 символов

**Пример:**
```
ENTER RECK REM=C2U160PN FOR 38
```

**Расшифровка C2U160PN:**
- C2 - шейка 2 дюйма
- U1 - рога матки 1 дюйм
- 60PN - кололи 60 мл пенициллина

**Отображение в карточке:**
```
11/6/99 RECK C2U160PN
```

**Событие BRED:**
В комментарии уже указывается:
- Бык осеменения
- Номер техника
- Племенное состояние
→ Места для других примечаний нет

**Пропуск пунктов EDAY и REM (ключ \R):**
```
MOVE \R
MAST \R
```
Значения EDAY, EVT и REM не вносятся/не меняются

## 2.3. Добавление новых животных

### 2.3.1. Команда ADD

**Назначение:** Внесение информации о новых животных в стаде

**Обычное использование:**
- Коровы добавляются автоматически при DHI LOAD
- Телочки заносятся при рождении (событие FRESH)
- ADD используется для:
  - Добавления новых телок вручную
  - Внесения приобретенных животных

**Возможности:**
- ADD автоматически добавит события на основе введенной информации
- Информация о продуктивности добавляется на страницах 4-5 через «Редактировать»

**Для электронных данных:**
Использовать команду FILEIN для загрузки файла

### 2.3.2. Добавление нетелей (NEWH)

**Команда:**
```
NEWH
```

**Полная форма:**
```
ADD HEIFER CDAT SIRC TBRD
```

**HEIFER содержит:**
```
ID BDAT REG USDA CBRD SID DID DREG
```

**Список пунктов для нетелей:**

| Пункт | Описание | Если неизвестно |
|-------|----------|-----------------|
| ID | Идентификационный номер | Точно известен, уникален |
| BDAT | Дата рождения | Внести приблизительную |
| REG | Регистрационный номер | "#" если зарегистрирована, пустым если нет |
| USDA | Номер вакцинации/DHIA | Нужен для официальных тестов |
| CBRD | Порода | H для Голштинской или другая по DHIA |
| SID | ID быка-отца | Номер или пустым |
| DID | ID матери | Номер или пустым |
| DREG | Рег. номер матери | Рег.номер (чистопородное), USDA (скрещенное), или пустым |
| CDAT | Дата стельности | Посчитать (9 месяцев от отела) |
| SIRC | Бык плодотворного осеменения | ID быка или пустым |
| TBRD | Количество осеменений | Не абсолютно необходимо |

**После ввода:**
1. Пункты выводятся на экран для проверки
2. Можно изменить любой пункт (ввести номер + новое значение)
3. Y на «Все ли верно?» → добавление в БД
4. Программа проверяет ошибки связи дат, кодов, быков
5. Выводит предупреждения

**Важно:**
- Информацию вносить ДО отела
- FRESH будет первым событием
- Все коды заданы верно (LACT=1, STAT=2, RPRO=FRESH)

**Новорожденные телочки:**
Автоматически заносятся с корректной информацией о родителях

### 2.3.3. Добавление коров (NEWC)

**Команда:**
```
NEWC
```

**Полная форма:**
```
ADD HEIFER NEWCOW
```

**NEWCOW содержит:**
```
FDAT LACT HDAT LSIR CDAT SIRC TBRD DDAT PEN RC STAT CAR PODAT
```

**Дополнительные пункты для коров:**

| Пункт | Описание | Правила |
|-------|----------|---------|
| FDAT | Дата отела текущей лактации | Если в сухостое → последний отел; примерная если неизвестна |
| LACT | Номер лактации | Примерный если неизвестен |
| HDAT | Дата охоты/осеменения | Необязательно для стельных; пустым если не было |
| LSIR | Бык последнего осеменения | [Enter] если не было; пустым если неизвестен |
| CDAT | Дата стельности | Только для стельных; часто = HDAT |
| SIRC | Бык плодотворного осеменения | Только для стельных; BULL если неизвестен |
| TBRD | Количество осеменений | **Критично для стельных** - DHIA не примет без TBRD |
| DDAT | Дата сухостоя | Только для сухостойных; НЕ вносить дату предыдущего сухостоя |
| PEN | Номер секции | Обязательно |
| RC | Репродуктивный код | По таблице кодов |
| STAT | Код статуса DHIA | По таблице статусов |
| CAR | Код CAR (DHIA) | Обычно = 0 |
| PODAT | Дата проверки на стельность | Примерная если неизвестна; пустым для яловых |

**Автоматические проверки:**

**При CDAT задана:**
```
Дата стельности задана, RC должен быть 5
Установить RC=5 [*Y*/N]?
```

**При DDAT задана:**
```
Дата сухостоя задана, RC должен быть 6
Установить RC=6 [*Y*/N]?
```

**При CDAT задана, SIRC=0:**
```
Дата стельности внесена, а бык нет
Присвоить SIRC значение Bull [*Y*/N]?
```

**Автоматическая установка STAT:**
- Не сухостойная, LACT>1 → STAT=1
- Первая лактация → STAT=2
- Сухостойная → STAT=6

### 2.3.4. Сообщения об ошибках ADD

**Валидация дат относительно BDAT:**
- Внимание! Дата отела раньше Даты рождения + 18 мес.
- Внимание! Дата охоты раньше Даты рождения + 12 мес.
- Внимание! Дата стельности раньше Даты рождения + 12 мес.
- Внимание! Дата сухостоя раньше Даты рождения

**Валидация относительно FDAT:**
- Внимание! Дата охоты раньше Даты отела
- Внимание! Дата стельности раньше Даты отела
- Внимание! Дата сухостоя раньше Даты отела

**Валидация последовательности:**
- Внимание! Дата сухостоя раньше Даты охоты
- Внимание! Дата сухостоя раньше CDAT
- Внимание! PODAT раньше CDAT

**Валидация связанных пунктов:**
- Внимание! SIRC внесен, необходимо внести CDAT
- Внимание! CDAT внесена, необходимо внести PODAT
- Внимание! CDAT задана, TBRD не может быть 0
- Внимание! LSIR внесен, TBRD не может быть 0

## 2.4. Удаление и выбытие животных

### 2.4.1. Команда DIED - Падеж

**Назначение:** Регистрация падежа животного

**Синтаксис:**
```
DIED
DIED FOR ID
```

**Полная форма:**
```
DIED = ENTER EC=18 EDAY REM RC=7 STAT=7
```

**Что происходит:**
1. Добавляется событие DIED
2. RC (репродуктивный код) меняется на 7 (DEAD)
3. STAT (код DHIA) меняется на 7 (мертвая)
4. Можно добавить комментарий (причина смерти)

**Примеры комментариев:**
- CULL - выбраковка
- MAST - мастит
- METRITIS - метрит
- INJURY - травма

**Важно:**
- Животное помечается флажком для архивирования
- При CLEANUP переносится в файл архива
- Для DHIA данные отправляются через SEND

### 2.4.2. Команда SOLD - Продажа

**Назначение:** Регистрация продажи животного

**Синтаксис:**
```
SOLD
SOLD FOR ID
```

**Полная форма:**
```
SOLD = ENTER EC=17 EDAY REM RC=7 STAT=8
```

**Отличия от DIED:**
- STAT = 8 (продано, не мертвое)
- Код события: 17

**Применение:**
- Продажа коров
- Продажа нетелей
- Выбраковка (можно указать в REM)

### 2.4.3. Команда DELETE - Удаление записи

**Назначение:** Полное удаление записи из базы данных

**ПРЕДУПРЕЖДЕНИЕ:**
- Необратимая операция
- Использовать ТОЛЬКО для ошибочно внесенных записей
- Для выбывших животных использовать SOLD или DIED

**Синтаксис:**
```
DELETE
DELETE FOR ID
```

**Когда использовать:**
- Случайно добавленное животное
- Дублирующиеся записи
- Ошибочные тестовые данные

**Что НЕ удаляется DELETE:**
- Данные из файла архива
- Данные из резервной копии

**Восстановление:**
Если удалили по ошибке → использовать GETCOW из BAK или ARC

### 2.4.4. Команда SEND - Отправка выбывших

**Назначение:** Маркировка выбывших животных для отправки в DHIA

**Применение:**
- Обычно вызывается автоматически в SOLD и DIED
- Можно использовать отдельно для нестандартных ситуаций

**Ключи:**

| Ключ | Описание |
|------|----------|
| `\8` | Отметить как проданных (STAT=8) |
| `\7` | Отметить как мертвых (STAT=7) |

---

# 3. ОТЧЕТЫ И АНАЛИТИКА

## 3.1. Команды базовых отчетов

### 3.1.1. Команда LIST

**Назначение:** Создание списков животных с детальной информацией

**Синтаксис:**
```
LIST
LIST пункты
LIST пункты FOR условие
LIST пункты FOR условие BY сортировка
```

**Базовые примеры:**
```
LIST                          # Все коровы, стандартные пункты
LIST ID DIM MILK              # Только ID, DIM и MILK
LIST FOR LACT>0               # Только дойные коровы
LIST FOR LACT>0 BY DIM        # Дойные коровы, сортировка по DIM
```

**Часто используемые списки пунктов:**

| Список | Пункты | Назначение |
|--------|--------|------------|
| ITEMS | ID DIM TBRD DSLBR RELV RPRO | Репродуктивная информация |
| VITEMS | ID DIM TBRD DSLBR RELV RPRO VETC EVT EDAY REM | Ветеринарная информация |
| MITEMS | ID DIM MILK PCTF | Продуктивность |

**Важные ключи:**

| Ключ | Описание |
|------|----------|
| `\C` | Сжатый шрифт (больше данных на странице) |
| `\P` | Печать немедленно |
| `\E` | Разделять группы по страницам |
| `\2` | Двойные интервалы |
| `\N` | Нумерация строк |
| `\V` | Включить события (последние 3) |

**Примеры с ключами:**
```
LIST ITEMS \C               # Сжатый вид
LIST ITEMS FOR PEN=1 \2     # Двойные интервалы
LIST \V FOR LACT>0          # С событиями
LIST \CP FOR RC=3           # Сжатый вид + печать
```

### 3.1.2. Команда SHOW

**Назначение:** Быстрый просмотр одного животного

**Отличия от LIST:**
- Упрощенный синтаксис
- Автоматическое добавление ID в начало списка
- Удобен для быстрых проверок

**Синтаксис:**
```
SHOW пункты
SHOW пункты FOR условие
SHOW пункты FOR условие BY сортировка
```

**Примеры:**
```
SHOW FOR 33                 # Показать корову 33 (все пункты)
SHOW DIM MILK FOR 33        # Только DIM и MILK коровы 33
SHOW DIM MILK FOR LACT>0    # Все дойные коровы
```

**Когда использовать:**
- **SHOW** - быстрая проверка одного животного
- **LIST** - детальные отчеты для нескольких животных

### 3.1.3. Команда SUM - Суммирование

**Назначение:** Подсчет количества животных и средних значений

**Базовый синтаксис:**
```
SUM
SUM пункты
SUM пункты FOR условие
SUM пункты FOR условие BY группировка
```

**Простейшие примеры:**
```
SUM                         # Подсчет всех коров в БД
SUM FOR LACT>0              # Количество дойных коров
SUM FOR RC=3                # Количество яловых коров
```

**Суммирование пунктов:**
```
SUM MILK                    # Средний надой по стаду
SUM MILK FOR LACT=1         # Средний надой первотелок
SUM DIM MILK PCTF           # Средние DIM, MILK, PCTF
```

**Группировка (BY):**
```
SUM BY PEN                  # Количество коров по секциям
SUM MILK BY PEN             # Средний надой по секциям
SUM BY LACT FOR LACT>0      # Распределение по лактациям
SUM MILK BY LACT FOR LACT>0 # Надой по лактациям
```

**Важные ключи:**

| Ключ | Описание |
|------|----------|
| `\C` | Сжатый вид |
| `\L` | Включить данные завершенных лактаций |
| `\A` | Включить архивные данные |
| `\2` | Двойные интервалы |

**Примеры с архивными данными:**
```
SUM MILK \L                 # Средний надой (включая завершенные лактации)
SUM TOTM BY LACT \L         # Общий надой по лактациям (с завершенными)
```

**Подсчет групп:**
```
SUM BY LGRP                 # По группам лактаций (1, 2, 3+)
SUM BY STAGE FOR LACT>0     # По стадиям лактации (Fresh, HiProd, Mid, Late)
SUM MILK BY DIMGP           # Надой по группам DIM
```

### 3.1.4. Команда PCT - Проценты

**Назначение:** Процентное распределение животных

**Синтаксис:**
```
PCT BY пункт
PCT BY пункт FOR условие
```

**Примеры:**
```
PCT BY LACT                 # Процент коров по лактациям
PCT BY PEN                  # Процент коров по секциям
PCT BY RC                   # Процент по репродуктивным кодам
PCT BY LACT FOR LACT>0      # Только дойные коровы
```

**Отображение:**
```
By LACT  %COW #COW
1         32   127
2         28   112
3         40   159
===================
Total    100   398
```

**Ключи:**
- `\A` - включить архив
- `\L` - включить завершенные лактации
- `\C` - сжатый вид

**Комбинирование с условиями:**
```
PCT BY RC FOR LACT>0        # Репродуктивные коды дойных коров
PCT BY VETC FOR VC>0        # Распределение по ветеринарным кодам
PCT BY LACT \L              # Включая завершенные лактации
```

## 3.2. Графические отчеты

### 3.2.1. Команда GRAPH

**Назначение:** Создание столбчатых диаграмм

**Синтаксис:**
```
GRAPH пункт
GRAPH пункт FOR условие
GRAPH пункт FOR условие BY группировка
```

**Примеры:**
```
GRAPH MILK                  # Распределение надоя по стаду
GRAPH MILK BY LACT          # Надой по лактациям
GRAPH DIM BY PEN            # DIM по секциям
GRAPH MILK FOR LACT=1       # Распределение надоя первотелок
```

**Типы графиков:**
- Вертикальные столбцы (по умолчанию)
- Горизонтальные столбцы
- Линейные графики
- 3D графики

**Настройка осей:**
- Автоматическое масштабирование
- Ручная настройка диапазона
- Логарифмическая шкала

**Интерактивность:**
- Клик на столбец → детали группы
- Печать цветного графика
- Экспорт изображения

### 3.2.2. Команда PLOT - Лактационные кривые

**Назначение:** Отображение лактационных кривых

**Основные режимы:**

**1. График отдельного животного:**
```
PLOT FOR 33                 # Лактационная кривая коровы 33
```

**2. Средние кривые по группам:**
```
PLOT BY LACT                # Средние кривые по лактациям
PLOT BY PEN                 # Средние кривые по секциям
```

**3. Сравнение с прошлой лактацией:**
```
PLOT \R FOR 33              # Текущая и предыдущая лактация
```

**Ключи PLOT:**

| Ключ | Описание |
|------|----------|
| `\R` | Сравнение с прошлой лактацией |
| `\L` | Включить завершенные лактации |
| `\A` | Включить архивные данные |
| `\M` | Ожидаемый надой (только для Daily Milk) |

**Настройка отображения:**
- Левая ось: надой (MILK)
- Правая ось: SCC, жир, белок
- Можно выбрать любые пункты контрольных доек

**Применение:**
- Анализ продуктивности
- Выявление проблем (резкое снижение)
- Сравнение с ожидаемой кривой
- Групповой анализ

## 3.3. Аналитические команды

### 3.3.1. Команда BREDSUM - Репродуктивная сводка

**Назначение:** Детальный анализ репродуктивной эффективности стада

**Синтаксис:**
```
BREDSUM
BREDSUM пункт
BREDSUM пункт FOR условие
```

**Что анализирует:**
- Процент стельности
- Количество осеменений на стельность
- Распределение осеменений
- Дни от отела до первого осеменения
- Дни от отела до стельности

**Группировка анализа:**

**По быкам:**
```
BREDSUM BNAME               # Анализ по быкам
```

**По техникам:**
```
BREDSUM TECH                # Эффективность техников
```

**По схемам осеменения:**
```
BREDSUM BSCHM               # Анализ по схемам
```

**По лактациям:**
```
BREDSUM LACT                # Эффективность по лактациям
```

**Ключевые показатели:**

**Pregnancy Rate (процент стельности):**
- Количество стельных / общее количество осеменений
- Целевое значение: >35-40%

**Services per Conception (осеменений на стельность):**
- Среднее количество осеменений для достижения стельности
- Целевое значение: <2.0

**Days to First Breeding (дни до первого осеменения):**
- Среднее количество дней от отела до первого осеменения
- Целевое значение: 60-80 дней

**Days Open (дни открытого периода):**
- Дни от отела до стельности
- Целевое значение: <120 дней

**Использование архивных данных:**
- BREDSUM всегда использует архивные файлы
- Анализирует историю за последний год
- Для большей выборки данных

### 3.3.2. Команда EVENTS - Анализ событий

**Назначение:** Подсчет частоты событий

**Синтаксис:**
```
EVENTS
EVENTS FOR условие
EVENTS BY группировка
```

**Базовые примеры:**
```
EVENTS                      # Все события за период
EVENTS FOR EDAY>1/1/99      # События с начала года
EVENTS FOR LACT>0           # События дойных коров
```

**Группировка:**
```
EVENTS BY LACT              # События по лактациям
EVENTS BY PEN               # События по секциям
EVENTS BY MONTH             # События по месяцам
```

**Типичный отчет:**
```
EVENT         #EVENTS  #COWS  EV/COW
FRESH            45      45     1.00
BRED            523     245     2.13
HEAT            189     156     1.21
MAST             34      28     1.21
CHECK           156     142     1.10
```

**Важные ключи:**

| Ключ | Описание |
|------|----------|
| `\A` | Включить архивные данные |
| `\L` | Включить завершенные лактации |
| `\n` | Отображать события со страницы n (n=1-6) |

**Примеры с ключами:**
```
EVENTS \1                   # Только репродуктивные события (стр. 1)
EVENTS \2 FOR LACT>0        # События здоровья (стр. 2)
EVENTS \A FOR EDAY>1/1/99   # Включая архив с начала года
```

**Применение:**
- Мониторинг здоровья стада
- Выявление проблемных событий
- Сравнение с нормами
- Планирование ресурсов

### 3.3.3. Команда MONITOR - Мониторинг стада

**Назначение:** Комплексный мониторинг ключевых показателей стада

**Структура таблицы MONITOR:**
- До 36 строк (показателей)
- До 12 колонок (временных периодов)
- Автоматическое обновление

**Типичные показатели:**

**Репродуктивные:**
- Процент стельности
- Осеменений на стельность
- Дни до первого осеменения
- Процент абортов

**Продуктивные:**
- Средний надой на корову
- Процент жира
- SCC (соматические клетки)
- Проекция 305 дней

**Здоровье:**
- Частота мастита
- Частота хромоты
- Частота метрита
- Смертность

**Временные периоды:**
- По неделям
- По месяцам
- По кварталам
- Скользящие средние

**Настройка MONITOR:**
```
ALTER \7                    # Настройка таблицы MONITOR
```

**Возможности:**
- Выбор отображаемых показателей
- Настройка временных периодов
- Установка целевых значений
- Цветовая индикация отклонений

**Просмотр MONITOR:**
```
MONITOR                     # Отобразить таблицу
MONITOR \P                  # Печать таблицы
```

**Применение:**
- Ежедневный контроль показателей
- Быстрое выявление проблем
- Отслеживание трендов
- Принятие управленческих решений

### 3.3.4. Команда ECON - Экономический анализ

**Назначение:** Финансовый анализ стада

**Основные модули:**

**1. Анализ доходов:**
- Доход от продажи молока
- Доход от продажи животных
- Доход от продажи телят

**2. Анализ затрат:**
- Затраты на корма
- Ветеринарные расходы
- Затраты на осеменение
- Прочие операционные расходы

**3. Рентабельность:**
- Доход на корову
- Прибыль на корову
- ROI (возврат инвестиций)

**Синтаксис:**
```
ECON
ECON FOR условие
ECON BY группировка
```

**Группировка:**
```
ECON BY LACT                # Экономика по лактациям
ECON BY PEN                 # Экономика по секциям
ECON BY MONTH               # Помесячный анализ
```

**Настройка цен:**
- Цена молока за кг/фунт
- Цена жира
- Цена белка
- Стоимость кормов
- Стоимость семени

**Отчет ECON включает:**
- Доход от молока
- Затраты на корма (по группам)
- Ветеринарные затраты
- Затраты на воспроизводство
- Чистая прибыль на корову

**Применение:**
- Оценка рентабельности стада
- Определение убыточных групп
- Оптимизация затрат
- Планирование бюджета

---

# 4. РЕПРОДУКТИВНОЕ УПРАВЛЕНИЕ

## 4.1. Основные репродуктивные события

### 4.1.1. Команда FRESH - Отел

**Назначение:** Регистрация отела коровы

**Полная форма:**
```
FRESH = ENTER EC=1 EDAY REM CALV COST LACT=LACT+1 FDAT=EDAY RC=2
```

**Что происходит автоматически:**
1. LACT (лактация) увеличивается на 1
2. FDAT (дата отела) устанавливается = EDAY
3. RC (репродуктивный код) = 2 (FRESH)
4. Данные прошлой лактации архивируются на страницу 5
5. Обнуляются репродуктивные пункты (TBRD, HDAT и т.д.)

**Запрашиваемые данные:**
- **EDAY** - дата отела
- **REM** - комментарий (осложнения, особенности)
- **CALV** - информация о теленке (пол, живой/мертвый, сохранен/продан)
- **COST** - стоимость/проблемы отела (опционально)

**Коды CALV:**

| Код | Описание |
|-----|----------|
| F | Телочка |
| M | Бычок |
| FF | Двойня телочек |
| FM | Телочка и бычок |
| MM | Двойня бычков |

**Дополнительные модификаторы:**
- **A** - живой (Alive)
- **D** - мертвый (Dead)
- **K** - сохранен в стаде (Kept)
- **S** - продан (Sold)

**Примеры:**
- `FK` - живая телочка, сохранена
- `MS` - живой бычок, продан
- `FD` - мертвая телочка

**Настройка FRESH:**
- Можно добавить автоматический перевод в секцию
- Можно запрашивать дополнительные пункты
- Можно настроить таблицу отела (какие данные переносить теленку)

### 4.1.2. Команда HEAT - Охота

**Назначение:** Регистрация охоты у коровы

**Полная форма:**
```
HEAT = ENTER EC=2 EDAY REM HDAT=EDAY
```

**Что происходит:**
1. Добавляется событие HEAT
2. HDAT (дата последней охоты) = EDAY
3. Можно добавить комментарий

**Применение:**
- Отслеживание регулярности охоты
- Планирование осеменений
- Выявление проблем (анэструс, киста)

**Особенности:**
- Если корова стельная и зарегистрирована HEAT → автоматически VC=6 (ABT? - подозрение на аборт)
- Интервал между охотами используется в отчетах

### 4.1.3. Команда BRED - Осеменение

**Назначение:** Регистрация осеменения

**Полная форма:**
```
BRED = ENTER EC=5 EDAY BNAME TECH BSCHM RC=4 TBRD=TBRD+1 HDAT=EDAY
```

**Запрашиваемые данные:**
- **EDAY** - дата осеменения
- **BNAME** - кличка быка (обязательно!)
- **TECH** - номер или имя техника осеменения
- **BSCHM** - схема осеменения (опционально)

**Что происходит автоматически:**
1. RC меняется на 4 (BRED - осеменена)
2. TBRD увеличивается на 1
3. HDAT = EDAY
4. Бык добавляется в историю осеменений

**Повторное осеменение в течение 2 дней:**
- TBRD НЕ увеличивается
- Считается одним осеменением
- Но доза списывается из реестра семени

**Ключи BRED:**

| Ключ | Описание |
|------|----------|
| `\S` | Разделенная пайета (не списывать дозу из реестра) |
| `\R` | Сохранить предыдущий комментарий |

**Схемы осеменения (BSCHM):**
- L - после стимуляции (Lutalyse)
- S - активная охота (Standing heat)
- I - после обработки (Post breeding infusion)
- T - по графику (Timed breeding)

**Результаты осеменения:**
Автоматически добавляются программой при последующих событиях:
- **P** - беременность подтверждена
- **O** - яловая (Open)
- **E** - ранний эмбрион
- **C** - киста
- **R** - повторное осеменение

### 4.1.4. Команда PREG - Стельность

**Назначение:** Подтверждение стельности

**Полная форма:**
```
PREG = ENTER EC=8 EDAY REM RC=5 CDAT=HDAT
```

**Что происходит:**
1. RC меняется на 5 (PREG - стельная)
2. CDAT (дата стельности) = HDAT (дата последнего осеменения)
3. Результат последнего BRED = "P"

**Если стельность от более раннего осеменения:**
Программа спрашивает:
- Выбор из списка осеменений
- Или ввод даты осеменения
- Или ввод дней стельности

**Применение:**
- После проверки на стельность ректально
- После УЗИ диагностики
- Через определенное время после осеменения (35-45 дней)

### 4.1.5. Команда ABORT - Аборт

**Назначение:** Регистрация аборта

**Полная форма:**
```
ABORT = ENTER EC=7 EDAY REM RC=?
```

**RC зависит от повторного осеменения:**
- Если было повторное осеменение после стельности → RC=4 (BRED)
- Если не было повторного осеменения → RC=3 (OK/OPEN)

**Запрашиваемые данные:**
- EDAY - дата аборта
- REM - причина/обстоятельства

**Применение:**
- Выявление инфекционных проблем
- Анализ причин абортов
- Корректировка репродуктивного статуса

### 4.1.6. Команда DRY - Сухостой

**Назначение:** Перевод коровы в сухостой

**Полная форма:**
```
DRY = ENTER EC=11 EDAY REM RC=6 DDAT=EDAY
```

**Что происходит:**
1. RC меняется на 6 (DRY - сухостойная)
2. DDAT (дата сухостоя) = EDAY
3. Можно автоматически перевести в другую секцию

**Настройка:**
```
DRY = ENTER EC=11 EDAY REM RC=6 DDAT=EDAY PEN=10
```
Автоматический перевод в секцию 10

**Рекомендации:**
- Запускать за 60 дней до предполагаемого отела
- Для коров с высоким SCC - раньше
- Проверить стельность перед запуском

## 4.2. Репродуктивные коды

### 4.2.1. Система репродуктивных кодов (RC)

**Таблица кодов:**

| Код | Название | Описание | Типичные действия |
|-----|----------|----------|-------------------|
| 1 | DNB | Не осеменять (Do Not Breed) | Выбраковка, лечение |
| 2 | FRESH | После отела | Восстановление, начало лактации |
| 3 | OK/OPEN | Готова к осеменению, яловая | Наблюдение за охотой |
| 4 | BRED | Осеменена | Ожидание проверки на стельность |
| 5 | PREG | Стельная | Мониторинг, подготовка к запуску |
| 6 | DRY | Сухостойная | Особое кормление, отдых |
| 7 | DEAD | Мертвая/выбывшая | Архивирование |

**Автоматические переходы:**

```
FRESH (RC=2)
    ↓ (автоматически или вручную)
OK/OPEN (RC=3)
    ↓ (BRED)
BRED (RC=4)
    ↓ (PREG)
PREG (RC=5)
    ↓ (DRY)
DRY (RC=6)
    ↓ (FRESH)
FRESH (RC=2) → новая лактация
```

### 4.2.2. Использование RC в командах

**Поиск по репродуктивному коду:**
```
LIST FOR RC=3               # Все яловые коровы
LIST FOR RC=4               # Все осемененные
LIST FOR RC=5               # Все стельные
```

**Комбинированные условия:**
```
LIST FOR RC=3 DIM>60        # Яловые коровы, DIM > 60 дней
LIST FOR RC=4 DSLH>40       # Осемененные более 40 дней назад
LIST FOR RC=5 DCC>210       # Стельные более 210 дней
```

**Группировка и анализ:**
```
SUM BY RC FOR LACT>0        # Распределение по репродуктивным кодам
PCT BY RC                   # Процентное распределение
GRAPH DIM BY RC             # График DIM по репродуктивным кодам
```

**Пакетные операции:**
```
ENTER PEN=5 FOR RC=6        # Все сухостойные в секцию 5
ENTER RC=3 FOR RC=2 DIM>25  # FRESH → OK/OPEN после 25 дней
```

## 4.3. Репродуктивная аналитика

### 4.3.1. Ключевые репродуктивные пункты

**Даты:**
- **FDAT** - дата последнего отела
- **HDAT** - дата последней охоты
- **CDAT** - дата стельности
- **DDAT** - дата сухостоя

**Интервалы:**
- **DIM** - дни в доении (TODAY - FDAT)
- **DOPN** - дни открытого периода (CDAT - FDAT или TODAY - FDAT для яловых)
- **DSLH** - дни с последней охоты (TODAY - HDAT)
- **DCC** - дни стельности (TODAY - CDAT)
- **DDRY** - дни в сухостое (TODAY - DDAT)

**Счетчики:**
- **TBRD** - количество осеменений в текущей лактации
- **LACT** - номер лактации
- **AGE** - возраст животного (годы.месяцы)

**Статусы:**
- **RC** - репродуктивный код (1-7)
- **RPRO** - описание репродуктивного кода (текст)
- **VETC** - ветеринарный код

### 4.3.2. Расчетные репродуктивные показатели

**Интервалы между событиями:**
- **CINT** - интервал отелов (FDAT текущ. - FDAT предыд.)
- **FBDIM** - DIM на первое осеменение
- **LBDIM** - DIM на последнее осеменение

**Эффективность:**
- **BEFF** - эффективность осеменения (% стельности)
- **REPR** - репродуктивная эффективность

**Проверка репродуктивных списков:**
```
# Коровы, готовые к осеменению
LIST FOR RC=3 DIM>60 HDAT=0

# Проверка на стельность
LIST FOR RC=4 DSLH>35

# Запуск в сухостой
LIST FOR RC=5 DCC>210

# Просроченные отелы
LIST FOR RC=6 DDRY>70
```

---

# 5. ВЕТЕРИНАРНЫЕ ПРОЦЕДУРЫ

## 5.1. Модуль VETLIST (VLIST)

### 5.1.1. Назначение и принцип работы

**Цель:** Формирование списка животных для ветеринарного осмотра

**Процесс (3 шага):**
1. Задать критерии отбора (однократно в настройках)
2. Сформировать ветеринарный список (VLIST)
3. Внести результаты осмотра (VENTER)

**Принцип работы:**
1. VLIST просматривает каждое животное
2. Проверяет репродуктивный код (RC) и длительность
3. Определяет необходимость осмотра
4. Присваивает ветеринарный код (VETC)
5. Устанавливает флажок для быстрого доступа

### 5.1.2. Ветеринарные коды (VETC)

**Стандартные коды:**

| Код | Название | Условие присвоения |
|-----|----------|-------------------|
| 1 | CHCK | Событие CHECK внесено вручную |
| 2 | FRSH | RC=2 (FRESH), DIM>25 |
| 3 | PREG | RC=4 (BRED), DSLH>35-45 (проверка стельности) |
| 4 | REPG | RC=5 (PREG), повторная проверка |
| 5 | PROB | RC=4 (BRED), DSLH>100 (проблемное осеменение) |
| 6 | ABT? | Стельная + HEAT (подозрение на аборт) |
| 7 | CYST | Нет охоты, длительный интервал |
| 8 | XBRD | Много осеменений без результата |

**Настройка критериев:**
```
ALTER \5                    # Настройка ветеринарных критериев
```

**Примеры критериев:**
- FRSH: DIM > 25
- PREG: DSLH > 40
- PROB: DSLH > 100
- CYST: дни без охоты > 35

### 5.1.3. Команда VLIST

**Синтаксис:**
```
VLIST
VLIST FOR условие
VLIST BY сортировка
```

**Полная форма:**
```
VLIST = VETLIST ID VITEMS ID FOR VC>0 BY PEN \2CU
```

**Что происходит:**
1. Программа проверяет все условия
2. Присваивает ветеринарные коды
3. Устанавливает флажки
4. Выводит список для печати/просмотра

**Настройка VITEMS (пункты для ветеринарного списка):**
```
VITEMS = DIM TBRD DSLBR RELV RPRO VETC EVT EDAY REM
```

**Ключи VLIST:**

| Ключ | Описание |
|------|----------|
| `\2` | Двойные интервалы (место для записей) |
| `\C` | Сжатый вид |
| `\U` | Подчеркивание (строки для записей) |
| `\N` | НЕ устанавливать флажки (для второго списка) |
| `\E` | Разделять группы по страницам |

**Примеры:**
```
VLIST                       # Стандартный список
VLIST FOR PEN=1-5           # Только секции 1-5
VLIST FOR VC=1-8 VC=5-3     # Исключая коды 3-5 (стельные)
VLIST \2CU                  # Сжатый + двойные интервалы + подчеркивание
```

### 5.1.4. Множественные ветеринарные списки

**Разные списки для разных групп:**

**По секциям:**
```
VLIST1 = VLIST FOR PEN=1-5
VLIST2 = VLIST FOR PEN=6-10
```

**По типу осмотра:**
```
# Недавно отелившиеся + проблемы
VLIST1 = VLIST FOR VC=1-2 VC=5-8

# Проверка на стельность
VLIST2 = VLIST FOR VC=3-4
```

**Для нетелей:**
```
HVITEMS = RPRO DIM TBRD DSLH AGE EDAY EVT REM VETC
HVLIST = VETLIST ID HVITEMS ID FOR VC>0 LACT=0 BY PEN \2CUE
HVENTER = VENTER FOR VC>0 LACT=0 BY PEN
```

**Использование ключа \N:**
При создании второго списка до внесения результатов первого:
```
VLIST2 \N                   # Не удаляет флажки первого списка
```

## 5.2. Модуль VENTER (Ввод результатов)

### 5.2.1. Основы VENTER

**Назначение:** Быстрое внесение результатов ветеринарного осмотра

**Процесс:**
1. После VLIST и проведения осмотра ввести `VENTER`
2. Программа выводит животных по одному (в том же порядке, что VLIST)
3. Результаты вносятся односимвольными кодами (1-9)
4. Можно добавить комментарий
5. Можно использовать функциональные клавиши для автоматизации

**Синтаксис:**
```
VENTER
VENTER FOR условие
VENTER BY сортировка
```

**Важно:** Условия BY в VLIST и VENTER должны совпадать!

**Ключи:**

| Ключ | Описание |
|------|----------|
| `\K` | Ввод для животного не из списка (запросит ID) |
| `\N` | Не искать флажки (медленнее, но безопаснее при нескольких списках) |

### 5.2.2. Результаты осмотра

**Таблица результатов:**

| Код | Результат | Действие | Изменения в БД |
|-----|-----------|----------|----------------|
| **1** | Пропущена | Животное не осмотрено | RC и VC не меняются, флажок остается |
| **2** | Перепроверить (RECK) | Неясен статус, нужен повторный осмотр | Добавляется RECK, RC и VC не меняются |
| **3** | OK | Животное в норме | VC=0, RC зависит от текущего статуса |
| **4** | Яловая (OPEN) | Стельность не выявлена | RC: BRED→OK/OPEN, VC=0 |
| **5** | Стельность (PREG) | От последнего осеменения | RC: BRED→PREG, CDAT=HDAT, VC=0 |
| **6** | Стельность (PREV) | От более раннего осеменения | RC: BRED→PREG, выбор даты, VC=0 |
| **7** | Аборт (ABORT) | Прерывание стельности | RC: PREG→BRED или OK/OPEN, VC=0 |
| **8** | Другое | Внесение других событий | Ручная настройка |
| **9** | Exam/карточка | Открыть карточку коровы | Для уточнения информации |
| **R** | Просмотр записей | Список внесенных результатов | F3 для просмотра |

**Детали результатов:**

**[1] Пропущена:**
- Животное не было осмотрено (убежала, забыли и т.д.)
- Флажок остается → появится в следующем VLIST
- RC и VC не изменяются

**[2] Перепроверить (RECK):**
- Осмотрели, но статус неясен
- Примеры: инфекция после отела, сомнительная стельность
- Добавляется событие RECK
- RC и VC не меняются → в следующем списке

**[3] OK:**
Действия зависят от RC:
- **RC=FRESH** → RC меняется на OK/OPEN, VC=0
- **RC=OK/OPEN** → RC не меняется, VC=0
- **RC=BRED** → RC остается BRED, VC=0
- **RC=PREG + VC=REPG** → RC остается PREG, VC=0

**[4] Яловая (OPEN):**
- Стельность не подтверждена
- RC: BRED → OK/OPEN
- VC=0

**[5] Стельность (PREG):**
- От последнего осеменения
- RC: BRED → PREG
- CDAT = HDAT
- VC=0

**[6] Стельность от предыдущего (PREV):**
Программа запрашивает один из вариантов:
- Выбор из списка осеменений
- Ввод даты осеменения
- Ввод дней стельности

**[7] Аборт (ABORT):**
- Подтверждение прерывания стельности
- RC зависит от повторного осеменения:
  - Если было BRED после PREG → RC=BRED
  - Если не было → RC=OK/OPEN
- VC=0

**[8] Другое:**
- Внесение событий, отличных от стандартных
- Программа выводит меню событий
- **НЕ использовать** для основных событий (FRESH, BRED, DRY)

**ВАЖНО:** Через VENTER вносится только код события, аббревиатура НЕ запускается!

### 5.2.3. Функциональные клавиши в VENTER

**Назначение:** Автоматизация ввода повторяющихся комбинаций

**Настройка:**
1. В VENTER выбрать опцию "D"
2. Выбрать клавишу (F1-F12)
3. Ввести последовательность нажатий

**Синтаксис последовательности:**
- Результат: 1-9
- Комментарий: текст
- Разделитель: `!`
- Код события: `=##` (где ## - номер события)

**Примеры настройки:**

**Простой комментарий к результату:**
```
5RH                         # Стельность, правый рог (Right Horn)
```

**Результат + событие:**
```
4CL!8=25LUT                 # Яловая + CL, простагландин + LUT
```
- Результат: 4 (Open)
- Комментарий: CL (желтое тело)
- Разделитель: !
- Событие 25 (PROST)
- Комментарий к событию: LUT

**Множественные события (до 3):**
```
2PUS!8=38CL!8=25LT!
```
- Результат: 2 (Recheck)
- Комментарий: PUS (гной)
- Событие 38 (эндометрит) + CL
- Событие 25 (простагландин) + LT
- Завершающий `!` → автопереход к следующему животному

**Таблица типичных настроек:**

| F-клавиша | Код | Описание |
|-----------|-----|----------|
| F5 | `5RH` | Стельность, правый рог |
| F6 | `5LH` | Стельность, левый рог |
| F7 | `4CL!8=25LUT` | Яловая с CL, дать простагландин |
| F8 | `3CL` | OK, желтое тело |
| F9 | `2CYST!8=31GNRH` | Перепроверить, киста, GnRH |

**Использование разделителя `!` в поле комментария:**
- Добавить `!` в конце первого комментария → второе поле результата
- Добавить `!` в конце второго → третье поле
- Добавить `!` в конце третьего → переход к следующему животному

**Ограничение:** 19 символов на описание функциональной клавиши

### 5.2.4. Hold Dates (Даты блокировки)

**Назначение:** Временно исключить животное из ветеринарных списков

**Два способа:**

**Способ 1: Через пункт HLDAT**

**Создание пункта:**
```
ALTER \2                    # Создать новый пункт
Название: HLDAT
Тип: 18 (дата)
```

**Создание команды HOLDM:**
```
HOLDM = HLDAT=TODAY+___ FOR PVET=?? VDAT=TODAY
```
- `___` - количество дней блокировки
- `??` - вет код из последнего списка

**Изменение VLIST:**
```
VLIST = ... FOR VC>0 HLDAT<TODAY ...
```
Добавляет только животных с истекшим сроком блокировки

**Изменение VENTER:**
```
VENTER FOR VC>0 BY PEN !HOLDM
```
После осмотра автоматически устанавливает дату блокировки

**Способ 2: Через комментарии (REM)**

**Важно:** Комментарии должны быть единообразными!

**Создание команд HLD1/HLD2/HLD3:**
```
HLD1 = HLDAT=TODAY+7 FOR REM>H1 VDAT=TODAY   # 1 неделя
HLD2 = HLDAT=TODAY+14 FOR REM>H2 VDAT=TODAY  # 2 недели
HLD3 = HLDAT=TODAY+21 FOR REM>H3 VDAT=TODAY  # 3 недели
```

**Изменение VENTER:**
```
VENTER FOR VC>0 BY PEN !HLD1!HLD2!HLD3
```

**Применение:**
При осмотре в поле комментария ввести:
- `H1________` - блокировка на 1 неделю
- `H2________` - блокировка на 2 недели
- `H3________` - блокировка на 3 недели

**ВАЖНО:** Создавать только ОДИН пункт HLDAT, можно использовать оба способа одновременно

### 5.2.5. Комментарии в VENTER (REM)

**Сохранение предыдущего комментария - ключ \R:**

**Проблема:** Нужно сохранить важный комментарий при добавлении нового события

**Пример ситуации:**
- Корова имеет событие FOOT с комментарием LFOOT
- При проверке на стельность добавлен комментарий TWINS?
- Нужно добавить событие FOOT, но сохранить REM=TWINS?

**Решение:**
```
FOOT\R                      # Сохранит текущий REM
```

Или изменить команду:
```
ENTER EC=xx \R
```

**Результат:**
- LFOOT отображается рядом с FOOT на странице 1
- В пункте REM остается TWINS? для отображения в списке

**Примечание:** BRED не принимает комментарии (место занято ID быка, схемой, техником)

**ВАЖНО:** Комментарий ≠ событие!

Если при осмотре FRSH добавлен комментарий CYST:
- Это просто краткая пометка
- Нужно ОТДЕЛЬНО внести событие CYST
- Программа не распознает комментарий как событие
- Комментарий не будет на странице 1, не учитывается в EVENTS/MONITOR

### 5.2.6. Просмотр и корректировка результатов

**Команда "R" или F3:**
Выводит список животных, результатов и комментариев за текущий сеанс VENTER

**Возможности:**
- Просмотр всех внесенных данных
- Выбор предыдущего животного стрелками + [Enter]
- Корректировка результата
- Добавление забытых событий

**Отмена последнего ввода:**
1. Выбрать животное из списка результатов (F3)
2. Изменить результат
3. Сохранить

### 5.2.7. Ветеринарные события в VENTER

**4 метода внесения дополнительных событий:**

**Метод 1: Через меню событий**
1. Результат: `8`
2. Добавить комментарий (опционально)
3. Программа выводит список событий
4. Выбрать нужное → [Enter]
5. Ввести комментарий → [Enter]

**Метод 2: Прямой ввод через комментарий**
```
=##myrem
```
- `##` - номер события
- `myrem` - комментарий

Пример:
```
=25LUT                      # Событие 25 (PROST), комментарий LUT
```

Процедура:
1. Результат: `8`
2. Комментарий: `=25LUT`
3. Появляется окно комментария с LUT
4. Можно изменить → [Enter]

**Метод 3: Функциональная клавиша для одного события**
Настройка: `8=25LUT`

Процедура:
1. Выбрать поле результата
2. Нажать функциональную клавишу
3. Можно изменить/дополнить комментарий

**Метод 4: Функциональная клавиша для результата + события**
```
3CL!8=25LUT
```
- `3` - результат OK
- `CL` - комментарий к результату
- `!` - разделитель
- `8=25` - событие PROST
- `LUT` - комментарий к событию

---

# 6. УПРАВЛЕНИЕ БАЗОЙ ДАННЫХ

## 6.1. Резервное копирование и архивация

### 6.1.1. Ежедневное резервное копирование (SAVE)

**Назначение:** Создание сжатой резервной копии базы данных

**Команды:**
```
SAVE                        # Запуск резервного копирования
EXIT                        # С запросом резервного копирования
EXIT\B                      # Без запроса копирования
```

**Настоятельная рекомендация:** ОБЯЗАТЕЛЬНО использовать резервное копирование!

**Механизм:**
При выборе "Резервная копия" в EXIT выполняется команда из меню SETUP:
```
C:\COMMAND.COM /C DB.BAT
```

**Файл DB.BAT:**
Принимает два параметра от Dairy Comp:
1. Имя базы данных
2. Имя сжатого файла (DHI ID стада или имя папки)

**Примеры вызова:**
```
DB C:COWFILE1.DAT 35123456
DB D:\SMITH\COWFILE1.DAT SMITH
```

**Стандартный DB.BAT использует:**
- PKZIP для сжатия
- Создает файл A:имя.ZIP или D:имя.ZIP

**Что включать в резервную копию:**
- COWFILE1.DAT (обязательно)
- SEMFILE1.DAT (реестр семени)
- DCWIN.INI (настройки)
- DCMENU.DAT (меню)

**Режим Multiherd:**
- Запускать только командой `DC` (не через автоменю)
- Прописать "Стартовый каталог Multiherd" в SETUP
- Программа будет видеть полный путь
- Файл архива: A:имяфермы.ZIP

**Восстановление из резервной копии:**
```
PKUNZIP A:12345678         # Распаковать в текущую папку
```

### 6.1.2. Команда CLEANUP

**Назначение:** Периодическая организация базы данных

**Четыре основные функции:**
1. Архивация неактуальной информации
2. Создание резервной копии
3. Пересортировка животных
4. Адаптация размера базы данных

**Рекомендация:** Минимум раз в месяц

**Синтаксис:**
```
CLEANUP                     # Обычная процедура
CLEANUP \ab                 # a=диск ARC, b=диск BAK
CLEANUP \abNNNN             # + размер базы NNNN коров
CLEANUP \2                  # Без запросов (для планировщика)
```

**Создаваемые файлы:**

**1. Файл архива (COWFILE#.ARC):**
- Выбывшие животные
- Предыдущие лактации
- Используется для аналитики

**2. Резервная копия (COWFILE#.BAK):**
- Вся база перед CLEANUP
- Перезаписывается каждый раз

**Ключи CLEANUP:**

| Ключ | Описание |
|------|----------|
| `\ab` | a=диск для ARC, b=диск для BAK |
| `\abNNNN` | + размер базы данных NNNN |
| `\2` | Cleanup без запросов |
| `\4` | Проверить логичность данных |
| `\A` | Проверить/удалить дубликаты в архиве |
| `\R` | Переименовать архивы (1→2, 2→3, удалить 9) |

**Примеры:**
```
CLEANUP \AC                 # ARC на A:, BAK на C:
CLEANUP \CC500              # Оба на C:, размер 500 коров
CLEANUP \2                  # Автоматический (планировщик)
```

**Настройки CLEANUP (ALTER \6):**

**Диск для BAK:**
- Обычно тот же, что база данных
- НЕ рекомендуется дискета (мало места)

**Размер файла архива:**
- 250 коров (диск 5.25" LoDens)
- 1000 коров (диск 5.25" HiDens)
- 600 коров (диск 3.5" LoDens)
- 1300 коров (диск 3.5" HiDens)
- Установить вручную

**Удаление выбывших коров:**
- Никогда не удалять
- Удалять при каждом CLEANUP
- Удалять через N дней (например, 365)

**Удаление выбывших первотелок:**
- Контроль отдельно от взрослых коров
- Для статистики по падежу телят

**Режим Multiherd:**
- Указывать диски как `*` → файлы в папках баз данных
- Не указывать другие диски → файлы смешаются

### 6.1.3. Логика файлов архива

**Команды, использующие архивные данные:**

| Команда | Как использует |
|---------|----------------|
| BREDSUM | Всегда |
| EVENTS | Всегда |
| PLOT\R и PLOT\L | С ключом \L |
| SUM\L | С ключом \L |
| FILEIO\L | С ключом \L |
| EXAM\L | С ключом \L |

**Три типа записей в архиве:**
1. Выбывшие животные (SOLD, DIED)
2. Предыдущие лактации (FRESH)
3. Прочие архивные записи

**Приоритет поиска архивных файлов:**

**Приоритет 1: Строка "ARCP"**
Если создана строка ARCP:
```
ARCP C                      # Файлы C:COWFILE1.ARC, C:COWFILE2.ARC...
ARCP C:\ARCHIVES            # Файлы C:\ARCHIVES\COWFILE1.ARC...
ARCP X                      # Отключить поиск архивов
```

Программа берет ВСЕ файлы .ARC по указанному пути

**Приоритет 2: Режим Multiherd**
Если активирован (указан "Стартовый каталог Multiherd"):
- Файлы архива в тех же папках, что базы данных
- Имя диска для архива из CLEANUP НЕ учитывается
- Указывать как `*` или `X`

**Приоритет 3: Стандартный режим**
Если multiherd НЕ включен:
- Программа берет только d:COWFILEn.ARC
- n = номер текущей базы данных
- d = имя диска из настроек CLEANUP

**Если путь = "X":**
- Архивные файлы НЕ используются
- Аналитика берет данных из базы данных

**Рекомендации:**
1. Создать строку `ARCP C:` для доступности всех архивов
2. CLEANUP: сохранять записи 365 дней
3. Если несколько баз → включить multiherd

## 6.2. Управление структурой БД

### 6.2.1. Команда ALTER - Настройки

**Назначение:** Настройка пунктов, команд, событий и параметров БД

**Основные разделы:**

**ALTER \1 - Аббревиатуры команд:**
- Создание/изменение команд
- Экспорт в файл
- Импорт из файла
- Копирование между базами

**ALTER \2 - Пункты (Items):**
- Создание новых пунктов
- Изменение существующих
- Удаление пунктов
- Настройка типов данных

**ALTER \3 - Карточка коровы:**
- Расположение пунктов на 6 страницах
- Настройка отображения
- Выбор пунктов для каждой страницы

**ALTER \4 - Типы секций:**
- BULL (с быком)
- AI (искусственное осеменение)
- MILK (доение)
- DRY (сухостой)
- CALF (молодняк)
- HOSP (лечебная)
- USER (пользовательские)

**ALTER \5 - Ветеринарные условия:**
- Критерии вет кодов
- Настройка VLIST
- Напоминания

**ALTER \6 - Настройки CLEANUP:**
- Диски для архива и BAK
- Размер архива
- Правила удаления записей

**ALTER \7 - Таблица MONITOR:**
- Выбор показателей
- Настройка периодов
- Целевые значения

**ALTER \8 - События:**
- Создание новых событий (до 64)
- Изменение названий
- Удаление событий
- Настройка страниц карточки

### 6.2.2. Пункты (Items) - детали

**Три типа пунктов:**

**1. Сохраненные (Stored Items 1-33):**
- Хранятся в записи коровы
- Типы данных: 1, 7, 8, 16-24, 33
- Примеры: ID, BDAT, PEN, USDA

**2. Рассчитываемые (Calculated Items 49-142):**
- Вычисляются из других пунктов
- Типы методов: 49-142
- Примеры: DIM, DCC, AGE

**Структура записи коровы:**
- Всего: 1024 байта (1Кб)
- Для пунктов: 256 байт
- Остальное: события, тесты, лактации

**Типы данных сохраненных пунктов:**

| Тип | Описание | Диапазон |
|-----|----------|----------|
| 1 | Однобайтное число | 0-255 |
| 7 | Со знаком | -127 - +127 |
| 8 | С десятичной | 0.0-25.5 |
| 16 | Двухбайтное со знаком | -16000 - +16000 |
| 17 | Двухбайтное число | 1-32000 |
| 18 | Дата | Даты |
| 19 | Бык | Ссылка на таблицу |
| 20 | Кратное 10 | 0-300000 |
| 21 | Со знаком | -150000 - +150000 |
| 22 | С десятичной | -300.00 - +300.00 |
| 23 | Время | 24-часовой формат |
| 24 | ID | Начинающийся с буквы |
| 33 | Буквенно-цифровой | Максимум 9 знаков |

**Рассчитываемые пункты - методы:**

**Типы операций с датами:**
- 49: Дата - Дата
- 50: Дата + x
- 60: Дата - Дата (в годах.месяцах)
- 61: Дата - x

**Типы пунктов событий:**
- 70: Дата события
- 71: DIM до события
- 72: Дни с момента события
- 73: Комментарий к событию
- 74: Счетчик событий
- 75: AGE при событии

**Типы пунктов контрольных доек:**
- 80: Дата проверки
- 81: DIM на дату проверки
- 82: MILK в день проверки
- 83: %Fat/%SNF/%PTN
- 85: FCM/ECM/MLM
- 86: 305-дневный прогноз
- 88: SCC

**Арифметические операции:**
- 101-104: +, -, *, / (пункт и пункт)
- 105-108: +, -, *, / (пункт и число)
- 98-99: MIN, MAX
- 110: % пункт1 от пункт2

**Логические операции:**
- 111-113: =, >, < (пункт и число)
- 114-115: =, < (пункт и пункт)
- 116-117: AND, OR
- 118: Округление

### 6.2.3. Команда CHKFILE - Утилиты обслуживания

**Назначение:** Набор инструментов для диагностики и обслуживания БД

**ПРЕДУПРЕЖДЕНИЕ:** Может причинить ущерб при небрежном использовании!

**Опции CHKFILE:**

**1. Показать свободные ID:**
- Найти неиспользуемые номера
- Для повторного использования ID

**2. Отметить выбывших животных:**
- Пометить для CLEANUP
- Обычно не используется

**3. Проверить таблицу доступа:**
- Выявить несоответствия
- Исправить автоматически

**4. Очистить даты тестов/лактации/недельные показатели:**
- Удаление данных страниц 4, 5, 6
- При проблемах с DHI LOAD

**5. Управление флажками:**
- Настройка поисковой таблицы
- Для продвинутых пользователей

**6. Найти дублирующиеся пункты:**
```
CHKFILE RESP FOR FDAT>0 DDAT=0
```
Проверка на повторы (например, номера передатчиков)

**7. Удалить дату теста:**
- Удаление неверной даты контрольной дойки
- Из всех карточек сразу

**8. Показать таблицу доступа:**
- Проверка на ошибки
- Для программистов

**9. Восстановить таблицу доступа:**
- Попытка восстановления
- При повреждении БД

**Синтаксис:**
```
CHKFILE                     # Меню опций
CHKFILE \n                  # Выбрать опцию n
CHKFILE RESP FOR условие    # Для опции 6
```

### 6.2.4. Команда STATUS

**Назначение:** Вывод информации о параметрах БД

**Отображает:**
- Имя базы данных
- ID стада
- Размер файла
- Дата последнего CLEANUP
- Информация о принтере
- Информация о мониторе
- CONFIG.SYS данные
- Данные DHI

**Применение:** Диагностика проблем

## 6.3. Работа с несколькими базами

### 6.3.1. Режим Multiherd

**Назначение:** Для ветеринаров/консультантов с базами разных ферм

**Структура каталогов:**
```
C:\HERDS\
    ├── BASIS\           # Шаблонная база
    │   └── COWFILE1.DAT
    ├── SMITH\
    │   └── COWFILE1.DAT
    ├── JONES\
    │   └── COWFILE1.DAT
    └── BROWN\
        └── COWFILE1.DAT
```

**Для специалистов DHI (коды стад):**
```
C:\HERDS\
    ├── 41225514\
    ├── 41228012\
    ├── 41228812\
    └── 41421112\
```

**Активация режима:**
1. SETUP → "Стартовый каталог Multiherd"
2. Указать C:\HERDS
3. Перезапустить программу
4. Появится список папок для выбора

**Шаблонная база (BASIS):**
- Содержит все настройки, команды, пункты
- При создании новой базы копируются из BASIS
- Упрощает поддержку единообразия

**Запуск:**
```
DC                          # Без параметров!
```
НЕ использовать "DC 1C" в multiherd режиме

### 6.3.2. Команда CREATE

**Назначение:** Создание новых баз данных

**Без multiherd:**
```
CREATE
```
Запросит:
1. Номер базы данных (1-9)
2. Имя диска/папки
3. Номер базы-шаблона
4. Расположение шаблона
5. Размер новой БД (количество коров)

**В режиме multiherd:**
```
CREATE
```
Запросит:
1. Номер базы (всегда указывать "1")
2. Имя новой папки (например, "JOHNSON")
3. Базу-шаблон (обычно BASIS)
4. Размер

**Результат:**
- Создается папка C:\HERDS\JOHNSON
- Создается файл C:\HERDS\JOHNSON\COWFILE1.DAT
- Копируются настройки из шаблона
- Программа предлагает запустить новую базу

**Рекомендация размера:**
Текущее количество коров × 2, затем увеличить еще

### 6.3.3. Команда CLONE

**Назначение:** Копирование части одной БД в другую

**ВАЖНО:** Команда ABSORB предпочтительнее для большинства задач!

**Применение CLONE:**
- Восстановление поврежденных заголовков
- Копирование настроек между базами

**Опции CLONE:**
1. Таблица пунктов
2. Аббревиатуры команд
3. Настройки карточки коровы
4. Названия событий
5. Ветеринарные условия
6. Таблица отела
7. Таблица секций
8. Настройки DAILY MILK
9. Данные контрольных доек
10. Фактор ME
11. Таблица MONITOR
12. Таблица осеменений

**Синтаксис:**
```
CLONE \nd{fileext}d{choice}
```
- n = номер конечной БД
- d = имя диска конечной БД
- fileext = DAT, ARC, или BAK
- второй d = имя диска исходной БД
- choice = пункт меню CLONE

**Пример:**
```
CLONE \1DBAK                # Скопировать в D:COWFILE1.BAK
```

**ПРЕДУПРЕЖДЕНИЕ:**
- При неосторожном использовании ОЧЕНЬ ОПАСНА
- Может сделать данные недоступными
- Предварительно использовать FILEOUT

**Текущее применение:**
Восстановление поврежденных заголовков копированием из резервной копии

---

# 7. ЭКСПОРТ/ИМПОРТ ДАННЫХ

## 7.1. Команда FILEIN - Импорт данных

**Назначение:** Загрузка данных из текстовых файлов

**Применение:**
- Импорт данных из электронных весов
- Загрузка данных Daily Milk
- Импорт пунктов из других систем
- Пакетное добавление животных

**Синтаксис:**
```
FILEIN
FILEIN \Fимяфайла
```

**Формат файла:**
- Текстовый файл (ASCII)
- Разделители: запятая, пробел, табуляция
- Первая строка: имена пунктов
- Следующие строки: данные

**Пример файла:**
```
ID,BDAT,PEN,USDA
101,01/15/97,2,12345678
102,02/20/97,3,12345679
103,03/10/97,2,12345680
```

**Процесс:**
1. Программа читает заголовок
2. Сопоставляет с пунктами БД
3. Запрашивает подтверждение
4. Импортирует данные
5. Выводит отчет об ошибках

**Автоматический режим:**
Можно создать аббревиатуру для регулярного импорта:
```
LOADWTS = FILEIN \FC:\SCALE\WEIGHTS.TXT
```

## 7.2. Команда FILEOUT - Экспорт данных

**Назначение:** Экспорт данных в текстовый файл

**Синтаксис:**
```
FILEOUT пункты
FILEOUT пункты FOR условие
FILEOUT пункты FOR условие \Fимяфайла
```

**Примеры:**
```
FILEOUT ID DIM MILK        # Запросит имя файла
FILEOUT ID MILK FOR LACT>0 \FC:\DATA\MILK.TXT
```

**Формат выходного файла:**
- CSV (comma-separated values)
- Первая строка: имена пунктов
- Следующие строки: данные
- Можно открыть в Excel/Calc

**Применение:**
- Экспорт для анализа в Excel
- Передача данных в другие программы
- Создание резервных копий отдельных данных
- Подготовка отчетов для консультантов

**Ключи:**

| Ключ | Описание |
|------|----------|
| `\F` | Указать имя файла |
| `\L` | Включить завершенные лактации |
| `\A` | Включить архивные данные |

**Пример регулярного экспорта:**
```
# Создать аббревиатуру
EXPMILK = FILEOUT ID DIM MILK PCTF FOR LACT>0 \FC:\EXPORT\MILK.CSV

# Запускать ежедневно
EXPMILK
```

## 7.3. DHI интерфейсы

### 7.3.1. Команда LOAD - Загрузка из DHI

**Назначение:** Первоначальная загрузка стада из данных DHI

**Когда использовать:**
- Начало работы с программой
- Переход от другой системы
- Восстановление после потери данных

**Процесс:**
1. Получить электронный файл от DHI
2. Запустить LOAD
3. Указать расположение файла
4. Программа импортирует:
   - Всех животных
   - Репродуктивные данные
   - Продуктивность
   - Тесты DHI

**Важно:**
- Использовать только ОДИН раз при начале
- Для регулярных обновлений использовать RECEIVE

### 7.3.2. Команда RECEIVE - Получение данных DHI

**Назначение:** Регулярное обновление данных от DHI (ежемесячно)

**Что получаем:**
- Данные контрольных доек
- 305-дневные прогнозы
- SCC
- Процент жира/белка
- RELV (относительная ценность)
- Новые животные (если есть)

**Процесс:**
1. Получить файл от DHI (дискета/email)
2. Запустить RECEIVE
3. Указать расположение файла
4. Программа обновляет данные

**Автоматические обновления:**
- Страница 4 карточки (тесты)
- 305ME, RELV пересчитываются
- Средние по стаду обновляются

**Проверка после RECEIVE:**
```
LIST ID MILK 305ME RELV FOR LACT>0
```

### 7.3.3. Команда SEND - Отправка данных в DHI

**Назначение:** Подготовка данных для отправки в DHI

**Что отправляем:**
- Новые отелы (FRESH)
- Осеменения (BRED)
- Выбывшие животные (SOLD, DIED)
- Сухостойные (DRY)
- Дополнительные пункты (опционально)

**Процесс:**
1. События автоматически помечаются для отправки
2. SEND создает файл для DHI
3. Отправить файл (дискета/email)
4. DHI обработает данные

**Автоматическая маркировка:**
- FRESH → автоматически для SEND
- SOLD/DIED → автоматически для SEND
- DRY → автоматически для SEND

**Проверка перед отправкой:**
```
LIST ID EVT EDAY FOR DHIA>0
```

**Настройка дополнительных пунктов:**
```
CONVERT → Настройка пунктов SEND
```

Можно отправлять:
- Информацию о телятах
- Данные об отеле
- Баллы упитанности
- Другие пользовательские данные

## 7.4. Команда ABSORB - Импорт из сторонних БД

**Назначение:** Интеллектуальный импорт животных из другой базы DairyComp

**Применение:**
- Импорт базы консультанта
- Перенос из тестовой базы
- Преобразование в версию Scout
- Интеграция данных ветеринара

**Отличия от GETCOW:**
- ABSORB - пакетный импорт всех животных
- GETCOW - по одному животному

**Два метода:**

**Метод 1: Простое перемещение (чаще всего)**
- Конечная база пуста
- Импорт + преобразование событий/пунктов

**Метод 2: С сохранением ветеринарной информации**
- Сохранение данных конечной базы
- Обновление основных данных из источника
- Сохранение ветеринарных событий

**Процесс:**
1. Получить сжатый файл резервной копии (ZIP)
2. Запустить ABSORB
3. Указать расположение файла
4. Программа распаковывает во временную папку
5. Импортирует животных с преобразованием
6. Удаляет временные файлы

**Требования:**
- PKUNZIP.EXE в папке программы
- Или создать строку "PKUN" с путем

**Файл ABSORB.DEF:**
Определяет соответствие событий и пунктов между базами

**Формат карты событий:**
```
E старое_событие новое_событие
```

**Пример:**
```
E MLKFVR MF                 # MLKFVR → MF
E MASTI MAST                # MASTI → MAST
```

**Формат карты пунктов:**
```
I INAME                     # Сохранить пункт INAME
F INAME                     # Сохранить, только если не телилась
T OINAME NINAME             # Преобразовать OINAME в NINAME
```

**Пример:**
```
T BSCOR BDYSC               # BSCOR → BDYSC
I VETREM                    # Сохранить VETREM
```

**Ключи ABSORB:**

| Ключ | Описание |
|------|----------|
| `\V` | Сохранить и восстановить события/пункты |
| `\I` | Инициализация; конвертация в Scout |
| `\O` | Сравнить пункты (подразумевает \I) |
| `\A` | Импортировать архивные файлы |
| `\X` | НЕ импортировать архивы |
| `\Sn` | Выбрать базу n для импорта |
| `\M` | Импортировать MONITOR |

**Примеры:**
```
ABSORB                      # Стандартный импорт
ABSORB \I                   # Инициализация стада
ABSORB \V                   # С сохранением ветеринарных данных
ABSORB \O                   # Сравнить пункты перед импортом
```

---

# 8. РАБОТА С БЫКАМИ И СЕМЕНЕМ

## 8.1. Команда SIRES - Информация о быках

**Назначение:** Просмотр данных отдельных быков

**Файл:** DCSIRES.DAT
- Около 800 быков разных пород
- Обновляется дважды в год (январь, июль)
- Содержит данные USDA, NAAB, ассоциаций пород

**Основные функции:**

**Показать быка:**
- Просмотр данных конкретного быка
- Сортировка по кодам NAAB, имени, рег.номеру
- Поиск по первым буквам имени

**Составить список быков:**
Формирование списка по критериям:
- Минимальные значения показателей
- Максимальная цена семени
- Определенные поставщики
- Сортировка по различным параметрам

**Функциональные клавиши в списке:**
- F3: выбор поставщиков
- F4: обнуление всех значений
- F5: изменение сортировки
- F10: завершить ввод критериев

**Изменить данные быка:**
- Внесение актуальной цены семени
- Корректировка информации
- Добавление заметок

**Анализ - Производители:**
- Просмотр SID в базе данных
- Определение средних показателей быков-отцов
- Подсчет количества потомков

**Анализ - Быки осеменения:**
- Просмотр быков в событиях BRED
- Средние показатели быков осеменения
- Статистика использования

**Настройки SIRES:**
- Импорт файлов с ценами
- Обновление файла быков
- Настройка параметров

## 8.2. BullsEye - Оптимизация выбора быков

**Назначение:** Выбор наиболее выгодных быков для минимизации затрат

**Три стадии работы:**

**Стадия 1: Минимальные критерии отбора**

Задаем:
- Породы
- Поставщики (F3 для выбора)
- Минимальные показатели производительности
- Минимальные баллы упитанности

**Ограничение:** Максимум 250 быков одновременно

**Процесс:**
1. Ввести критерии
2. F10 завершить
3. Программа отбирает подходящих быков
4. Если >250 → увеличить критерии

**Стадия 2: Целевые показатели**

Задаем:
- Желаемый надой (PTAMilk)
- Другие показатели производительности
- Характеристики породы

**Рекомендация:** Не более 10 категорий для начала

**Дополнительно:**
- Предполагаемые скидки от поставщиков
- Максимальный процент использования быка (10-20%)

**Стадия 3: Результат**

Программа выбирает:
- 5-15 быков
- Дают в среднем нужные показатели
- С минимальной общей стоимостью

**Для каждого подходящего быка:**
- Процент использования
- Для дорогих: 0%
- Расчетная стоимость (максимальная цена для включения)

**Для выбранных быков:**
- Соответствуют или превышают целевые показатели
- Оптимальная цена

**Интерактивность:**
- Клик на быка → детальная информация
- F2 → первый бык в списке

**Примеры целевых показателей:**
- PTAMilk = 2500 → средняя цена $8.39
- PTAMilk = 2600 → средняя цена $9.10

**Экспериментирование:**
1. Задать минимальные критерии
2. Несколько целевых показателей
3. Получить решение
4. Изменять условия и сравнивать

**Влияние на стоимость:**
- Более высокие цели → выше стоимость
- Больше поставщиков → ниже стоимость
- Меньше процент использования → больше быков → выше стоимость

**Если решение не найдено:**
- Слишком мало подходящих быков
- Быки не удовлетворяют целям
→ Изменить параметры

## 8.3. SEMINV - Реестр семени

**Назначение:** Ведение инвентаризации семени

**Файл:** SEMFILE1.DAT (по каждой базе данных отдельно)

**Возможности:**
- Добавлять/удалять пайеты
- Удалять быков из списка
- Обновлять информацию
- Составлять отчеты
- Связь с файлом быков DCSIRES.DAT

**Хранение данных:**
- **В базе данных:** поля Bull и Straws
- **В SEMFILE1.DAT:** детальная информация
- **Контроль:** автоматическое списание через BRED

**Резервное копирование:**
Настроить DB.BAT для включения SEMFILE1.DAT

### 8.3.1. Добавить/удалить спермодозы

**Добавление:**
1. Программа запрашивает имя быка
2. Количество пайет
3. Если быка нет → проверка правильности имени
4. Добавление в реестр

**Удаление:**
- Удалить потерянные/поврежденные/проданные пайеты
- Программа спросит о сохранении быка при нулевом количестве

**Ограничение:** До 250 быков в реестре

**Рекомендация:** Периодически удалять неиспользуемых быков

**Ввод:**
- Ввести ID быка
- ИЛИ F2 для выбора из списка
- Поиск: клавиши ↑↓ или первые буквы имени

### 8.3.2. Печать реестра семени

**Команда:**
```
SEMINV\I                    # Автоматическая печать
```

**Отчет включает:**
- Перечень всех спермодоз
- Общее количество быков
- Общее количество пайет
- Сортировка по заданным критериям

**Дополнительные ключи:**

| Ключ | Описание |
|------|----------|
| `\I` | Печать реестра |
| `\E` | Разделять группы по страницам |
| `\2` | Двойные интервалы |

### 8.3.3. Пункты семени

**Настройка пунктов:**
Определение:
- Порядка сортировки
- Перечня пунктов в отчете
- Дополнительных пользовательских пунктов

**Стандартные пункты (НЕ изменять первые 9):**
1. Bull (имя быка)
2. Straws (количество пайет)
3. NAAB (код NAAB)
4. Reg (регистрационный номер)
5. Breed (порода)
6. Stud (поставщик)
7. Date (дата)
8. Cost (цена)

**Можно добавить:**
- Номер контейнера
- Местоположение
- Дата покупки
- Примечания

**Пункты, привязанные к файлу быков:**

**Опция:** "Update sire file links" (Обновить ссылки)

**Процесс:**
1. Программа обращается к DCSIRES.DAT
2. Находит быка по коду NAAB или рег.номеру
3. Переносит племенные свидетельства
4. Обновляет информацию

**Содержимое DCSIRES.DAT:**
- Идентификационные данные USDA
- Племенные свидетельства
- PTA Milk, Fat, Protein
- SCS (Somatic Cell Score)
- Другие показатели

**Требование для ссылок:**
Внести коды NAAB или рег.номера быков

**НЕ использовать:**
Имена быков (BLACKSTAR и т.д.) - не уникальны

**Получение нового DCSIRES.DAT:**
Скачать с сайта

### 8.3.4. Ввод пунктов семени

**Добавить информацию по быку:**
1. Выбрать "Добавить информацию"
2. Выбрать нужные пункты
3. Ввести значения
4. Esc для завершения

**Вручную задать значения связанных пунктов:**
Можно, если быка нет в DCSIRES.DAT

**ВНИМАНИЕ:**
При "Update sire file links" ручные данные перезапишутся

### 8.3.5. Команда BRED и реестр

**Автоматическое списание:**
При использовании семени из реестра списывается 1 доза

**Повторное осеменение в течение 2 дней:**
- TBRD НЕ увеличивается
- НО доза списывается из реестра
→ Верный учет расхода

**Разделение пайет (ключ \S):**
```
BRED\S
```

**Процесс:**
1. Программа спросит о списании
2. Если доза разделена → при следующем осеменении тем же быком использовать `BRED\S`
3. Пайета не спишется

**ВНИМАНИЕ:**
Изменения в реестр вносятся только при осеменении в базе, содержащей SEMFILE1.DAT
→ Осеменения в базе молодняка НЕ влияют на реестр основной базы

---

# 9. НАСТРОЙКА И КОНФИГУРАЦИЯ

## 9.1. Команда SETUP - Настройки программы

**Назначение:** Настройка параметров работы программы, видео и принтера

**Отличие от ALTER:**
- **SETUP**: параметры программы (не связано с БД)
- **ALTER**: пункты, команды, параметры БД

**Хранение:**
- Файл DCSETUP.TXT или DCSETUP.DAT
- Не в базе данных
- Изменения действуют во всех базах

**Синтаксис:**
```
SETUP
```

### 9.1.1. SETUP - Принтер

**Print Enabled:**
- Включено → автопечать LIST и пакетных команд
- Выключено → вывод в обозреватель (печать по желанию)

**Переключение из команд:**

| Ключ | Описание |
|------|----------|
| `\4E` | Включить печать |
| `\4D` | Выключить печать |

**Использование в командах:**
```
PON = SETUP\4E
POFF = SETUP\4D

PON!MYREPORT!POFF           # Печать только MYREPORT
```

**Printer Setup:**
Стандартное диалоговое окно Windows

**Шрифты:**
- **Обычная печать** - для отчетов без \C
- **Сжатая печать** - для отчетов с \C
- Только шрифты постоянной ширины

**Матричные принтеры:**
Использовать "родные" шрифты (иконка принтера) → печать быстрее

**Тест принтера:**
Печать тестовой страницы с обоими шрифтами

**Перенаправленная печать:**

| Ключ | Описание |
|------|----------|
| `\5P` | Выключить перенаправленную печать |
| `\5R` | Включить перенаправленную печать |
| `\5Rимяфайла` | Печать в файл |

### 9.1.2. SETUP - Меню

**Настройка выпадающих меню:**

**Изменение элемента (двойной клик):**
- 15-значное описание (в меню)
- 7-значная команда (выполняется)
- 3 строки дополнительного описания (при выделении)

**Вступление в силу:**
Сразу после выхода из меню "Установка"

**Применение:**
- Добавление часто используемых команд
- Переименование пунктов меню
- Настройка под свои нужды

### 9.1.3. SETUP - Дополнительно

**Дата запуска:**
- По запросу
- Системная дата
- Дата последнего запуска

**База данных при запуске:**
- Запрашивать
- Автоматически последнюю открытую

**Рекомендации:**
- Фермы: последняя база + системная дата
- Консультанты: дата последнего запуска

**Картинка при запуске:**
Загрузка файла BMP для главной страницы (экспериментально)

**Вид отчета по умолчанию:**
- **Таблица** (рекомендуется): сортировка, изменение пунктов, выбор кликом
- **Отчет**: вид DOS-версии

**Дополнительные опции:**
- Основная база данных (для multiherd)
- Порода по умолчанию
- Расположение окон
- Цвет и шрифт списков

## 9.2. Системы пунктов и событий

### 9.2.1. События - подробно

**18 основных событий:**
1. FRESH - отел
2. HEAT - охота
3. MOVE - перемещение
4. BRED - осеменение
5. CHECK - проверка
6. PREG - стельность
7. ABORT - аборт
8. DRY - сухостой
9. (резерв для DHI)
10. (резерв для DHI)
11. SOLD - продажа
12. DIED - падеж

**Пользовательские события:**
- До 64 событий всего
- События 13-64: пользовательские
- Можно переименовывать
- Можно удалять неиспользуемые

**Настройка событий:**
```
ALTER \8
```

**Параметры события:**
- Номер события (1-64)
- Название (до 8 символов)
- Страница карточки (1-6)
- Запрашиваемые пункты
- Автоматические изменения пунктов

**Примеры пользовательских событий:**
- MAST - мастит
- FOOT - хромота
- METR - метрит
- MILK - молочная лихорадка
- DA - смещение сычуга
- MILK FEVER - молочная лихорадка
- RP - задержание последа

### 9.2.2. Таблица отела

**Назначение:** Определить, что происходит с пунктами при событии FRESH

**Три категории пунктов:**

**1. Удаляемые пункты:**
- Обнуляются при отеле
- Примеры: TBRD, HDAT, CDAT
- Репродуктивные пункты начинаются заново

**2. Сохраняемые пункты:**
- НЕ изменяются при отеле
- Примеры: ID, BDAT, SID, USDA
- Постоянная информация

**3. Копируемые теленку:**
- Переносятся новорожденному
- Примеры: SID (→ DID теленка), ID (→ DID), CBRD
- Генетическая информация

**Настройка:**
```
ALTER → Таблица отела
```

**Важно:**
При добавлении новых пунктов определить, в какую категорию они попадают

### 9.2.3. Секции и типы секций

**Типы секций (ALTER \4):**
- **BULL** - с быком (естественное осеменение)
- **AI** - искусственное осеменение
- **MILK** - доение
- **DRY** - сухостой
- **CALF** - молодняк
- **HOSP** - лечебная/больничная
- **USER** - пользовательские

**Применение:**
- Автоматическая фильтрация в командах
- Определение животных для осеменения
- Группировка для отчетов

**Пример настройки:**
```
PEN  BULL AI MILK DRY HOSP CALF USER
1              MILK
2         AI   MILK
3    BULL      MILK
4    BULL      MILK
5         AI   MILK
10                  DRY
11                       HOSP
20-24                         CALF
```

**Использование в командах:**
```
# Все коровы в секциях с ИО
LIST FOR AI>0

# Все дойные коровы
LIST FOR MILK>0

# Сухостойные
LIST FOR DRY>0
```

### 9.2.4. Репродуктивные и ветеринарные коды

**Репродуктивные коды (RC):**
Уже описаны в разделе 4.2

**Ветеринарные коды (VETC):**
Уже описаны в разделе 5.1.2

**Взаимодействие:**
- RC определяет репродуктивное состояние
- VETC определяет необходимость ветеринарного осмотра
- VC автоматически присваивается на основе RC
- VC обнуляется при внесении результатов VENTER

## 9.3. Аббревиатуры и автоматизация

### 9.3.1. Создание аббревиатур

**Назначение:** Упрощение частых операций

**Пример простой аббревиатуры:**
```
MILKERS = LIST FOR LACT>0
```

**Пример сложной аббревиатуры:**
```
VETLIST1 = VETLIST ID DIM TBRD DSLBR RELV RPRO VETC EVT EDAY REM ID FOR VC>0 PEN=1-5 BY PEN \2CUE
```

**Создание:**
```
ALTER \1                    # Аббревиатуры команд
```

**Возможности:**
- До 255 символов в команде
- Может включать другие аббревиатуры
- Может включать несколько команд с разделителем `!`

**Примеры комбинированных команд:**
```
# Последовательность команд
DAILY = LIST ITEMS !SUM MILK !MONITOR

# С условиями
REPRO = LIST ITEMS FOR RC=3-4 !BREDSUM
```

### 9.3.2. Экспорт/импорт аббревиатур

**Экспорт в файл:**
```
ALTER \1 → Save to file
```

**Формат файла:**
Текстовый файл с парами:
```
АББРЕВИАТУРА = КОМАНДА
MILKERS = LIST FOR LACT>0
DRYCOWS = LIST FOR RC=6
```

**Импорт из файла:**
```
ALTER \1 → Load from file
```

**Применение:**
- Копирование между базами
- Резервное копирование настроек
- Обмен командами между пользователями
- Стандартизация в организации

### 9.3.3. Пакетные команды

**Разделитель `!`:**
Позволяет запускать несколько команд подряд

**Синтаксис:**
```
команда1!команда2!команда3
```

**Примеры:**
```
# Последовательные отчеты
LIST FOR LACT>0 !SUM BY PEN !EVENTS

# Команда + печать
SETUP\4E !MYREPORT !SETUP\4D

# Ввод данных + отчет
VLIST !VENTER !LIST FOR VC>0
```

**Применение:**
- Автоматизация рутинных задач
- Создание комплексных отчетов
- Упрощение сложных операций

## 9.4. Утилитарные команды

### 9.4.1. Команда CONVERT

**Две функции:**
1. Автоматическое преобразование БД
2. Обработка данных для интерфейсов DHI

**Применение:**
Большинство функций выполняются автоматически

**ПРЕДУПРЕЖДЕНИЕ:**
При неосторожном использовании может причинить проблемы

**Опции CONVERT:**

**Функции при начале работы:**
- Установить прогнозируемый надой
- Пересчитать лактационные кривые
- Создать лактации на основе TOTM
- Определение возрастных коэффициентов

**Настройка таблицы RECEIVE:**
- Изменение структуры страницы 4
- Добавление пунктов прогнозов надоя

**Выбор DHI:**
Опция для выбора центра DRPC

**Средние показатели стада:**
Задание разных средних для разных пород

**Настройка пунктов SEND:**
Отправка дополнительной информации в DRPC

**Фактор ME:**
Загрузка данных возрастного эквивалента

### 9.4.2. Команды DIR и VIEW

**Назначение:** Просмотр текстовых файлов

**Процесс:**
1. Выводит окно поиска файлов
2. Выбрать текстовый файл
3. Открывает в обозревателе

**Применение:**
- Просмотр log-файлов
- Чтение документации
- Проверка экспортированных данных

### 9.4.3. Команда DROPDOS

**Назначение:** Открыть окно MS-DOS в папке Dairy Comp

**Возможности:**
- Выполнение операций DOS
- Копирование файлов
- Работа с каталогами

**ПРЕДУПРЕЖДЕНИЕ:**
Не переместить/удалить базу данных случайно!

**Поведение:**
Dairy Comp сворачивается пока открыто окно DOS

**Возврат:**
```
EXIT
```

### 9.4.4. Команда EXEC

**Назначение:** Запуск внешних командных файлов

**Синтаксис:**
```
EXEC\BXYZ                   # Запустит XYZ.BAT
```

**Поведение:**
Dairy Comp сворачивается на время выполнения

**Применение:**
- Работа с доильными программами
- Интерфейсы с внешними программами
- Запуск утилит

### 9.4.5. Команда UPGRADE

**Назначение:** Обновление БД до новой версии

**Функции:**
- Преобразование структуры БД
- Установка обновлений
- Проверка файла DESCRIP.TXT

**Подтверждение:**
- Продление лицензии
- Актуализация информации
- Ввод серийного номера

**Преобразование меню в текст:**
- Экспорт меню в текстовый файл
- Импорт из текстового файла

**ПРЕДУПРЕЖДЕНИЕ:**
Для специалистов поддержки и опытных пользователей

---

# ПРИЛОЖЕНИЯ

## Приложение A: Быстрые клавиши

**Навигация по карточкам:**
- `+` / PgUp / → - следующая корова
- `-` / PgDn / ← - предыдущая корова
- `\n` - страница n
- `B` - страница 6 (лактационная кривая)
- `F` / Enter - страница 2 (пункты)
- `P` - печать карточки
- F3 - завершенные лактации

**В обозревателе:**
- ↑↓ - прокрутка
- PgUp/PgDn - постранично
- Home/End - начало/конец строки
- Ctrl+Home/Ctrl+End - начало/конец отчета
- Esc - выход
- F9 или `=` - поиск
- серый `+` - повтор поиска вперед
- серый `-` - повтор поиска назад
- F2 - переход к карточке (на синем ID)
- P - печать
- F - экспорт в файл

**В VENTER:**
- F3 или R - просмотр результатов
- D - настройка функциональных клавиш
- F1-F12 - функциональные клавиши

## Приложение B: Часто используемые команды

**Отчеты:**
```
LIST                        # Список всех коров
LIST FOR LACT>0             # Дойные коровы
SUM BY PEN                  # Количество по секциям
PCT BY LACT                 # Распределение по лактациям
EVENTS                      # Анализ событий
BREDSUM                     # Репродуктивная сводка
MONITOR                     # Мониторинг стада
```

**Репродуктивное управление:**
```
VLIST                       # Ветеринарный список
VENTER                      # Ввод результатов осмотра
FRESH                       # Регистрация отела
BRED                        # Регистрация осеменения
PREG                        # Подтверждение стельности
DRY                         # Перевод в сухостой
```

**Управление данными:**
```
NEWH                        # Добавить нетель
NEWC                        # Добавить корову
ENTER пункт                 # Изменить пункт
событие FOR ID              # Внести событие
```

**Управление БД:**
```
SAVE                        # Резервная копия
CLEANUP                     # Очистка и архивация
LOGON                       # Переключение БД
GETCOW                      # Импорт коровы
PUTCOW                      # Экспорт коровы
```

## Приложение C: Типичные проблемы и решения

**Проблема: Животное не появляется в VLIST**
- Проверить RC и критерии отбора
- Убедиться, что FOR в VLIST корректно
- Проверить, не установлен ли HLDAT (дата блокировки)
- Запустить VLIST заново

**Проблема: VENTER показывает животных не в том порядке**
- Убедиться, что BY в VLIST и VENTER совпадают
- Не было ли задержки между VLIST и VENTER
- Перезапустить VLIST перед VENTER

**Проблема: Недостаточно места при CLEANUP**
- Освободить место на жестком диске
- Проверить диск для резервной копии
- Сменить дискету для архива

**Проблема: Файл архива заполнен**
- Вставить новую дискету
- Перезапустить CLEANUP
- Или переименовать старые архивы

**Проблема: Ошибки при ADD (NEWC/NEWH)**
- Проверить логику дат (BDAT, FDAT, CDAT)
- Убедиться, что CDAT задана для стельных
- Для стельных обязательно указать TBRD
- Проверить RC и STAT

**Проблема: Не списывается доза из SEMINV**
- Проверить, что осеменение вносится в БД с SEMFILE1.DAT
- Проверить имя быка (должно точно совпадать)
- Если разделенная пайета, использовать BRED\S

**Проблема: Данные не обновились после RECEIVE**
- Убедиться, что файл от DHI корректный
- Проверить соответствие ID животных
- Просмотреть отчет об ошибках RECEIVE

---

**КОНЕЦ ДОКУМЕНТА**

**Всего разделов:** 9
**Всего функций:** 100+
**Команд:** 50+
**Пунктов:** 142
**Событий:** до 64

Этот документ содержит полное описание всех функциональных возможностей системы DairyComp 305, организованных в логическую иерархию для удобного поиска и изучения.





